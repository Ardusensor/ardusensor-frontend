!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c=a("amp-is-object");b.exports=function(a){if(!c(a))return a;for(var b,d,e=1,f=arguments.length;f>e;e++){b=arguments[e];for(d in b)a[d]=b[d]}return a}},{"amp-is-object":2}],2:[function(a,b){b.exports=function(a){var b=typeof a;return!!a&&("function"===b||"object"===b)}},{}],3:[function(a,b){function c(a,b){if(b||(b={}),b.model&&(this.model=b.model),b.comparator&&(this.comparator=b.comparator),b.parent&&(this.parent=b.parent),!this.mainIndex){var c=this.model&&this.model.prototype&&this.model.prototype.idAttribute;this.mainIndex=c||"id"}this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,g({silent:!0},b))}var d=a("backbone-events-standalone"),e=a("ampersand-class-extend"),f=a("is-array"),g=a("extend-object"),h=[].slice;g(c.prototype,d,{initialize:function(){},indexes:[],isModel:function(a){return this.model&&a instanceof this.model},add:function(a,b){return this.set(a,g({merge:!1,add:!0,remove:!1},b))},parse:function(a){return a},serialize:function(){return this.map(function(a){if(a.serialize)return a.serialize();var b={};return g(b,a),delete b.collection,b})},toJSON:function(){return this.serialize()},set:function(a,b){b=g({add:!0,remove:!0,merge:!0},b),b.parse&&(a=this.parse(a,b));var c=!f(a);a=c?a?[a]:[]:a.slice();var d,e,h,i,j,k,l,m=b.at,n=this.comparator&&null==m&&b.sort!==!1,o="string"==typeof this.comparator?this.comparator:null,p=[],q=[],r={},s=b.add,t=b.merge,u=b.remove,v=!n&&s&&u?[]:!1,w=this.model&&this.model.prototype||Object.prototype;for(k=0,l=a.length;l>k;k++){if(h=a[k]||{},d=this.isModel(h)?e=h:w.generateId?w.generateId(h):h[w.idAttribute||this.mainIndex],i=this.get(d))u&&(r[i.cid||i[this.mainIndex]]=!0),t&&(h=h===e?e.attributes:h,b.parse&&(h=i.parse(h,b)),i.set?(i.set(h,b),n&&!j&&i.hasChanged(o)&&(j=!0)):g(i,h)),a[k]=i;else if(s){if(e=a[k]=this._prepareModel(h,b),!e)continue;p.push(e),this._addReference(e,b)}e=i||e,e&&(v&&(e.isNew&&e.isNew()||!e[this.mainIndex]||!r[e.cid||e[this.mainIndex]])&&v.push(e),r[e[this.mainIndex]]=!0)}if(u){for(k=0,l=this.length;l>k;k++)e=this.models[k],r[e.cid||e[this.mainIndex]]||q.push(e);q.length&&this.remove(q,b)}if(p.length||v&&v.length)if(n&&(j=!0),null!=m)for(k=0,l=p.length;l>k;k++)this.models.splice(m+k,0,p[k]);else{var x=v||p;for(k=0,l=x.length;l>k;k++)this.models.push(x[k])}if(j&&this.sort({silent:!0}),!b.silent){for(k=0,l=p.length;l>k;k++)e=p[k],e.trigger?e.trigger("add",e,this,b):this.trigger("add",e,this,b);(j||v&&v.length)&&this.trigger("sort",this,b)}return c?a[0]:a},get:function(a,b){if(a){var c=this._indexes[b||this.mainIndex];return c[a]||c[a[this.mainIndex]]||this._indexes.cid[a]||this._indexes.cid[a.cid]}},at:function(a){return this.models[a]},remove:function(a,b){var c,d,e,g,i=!f(a);for(a=i?[a]:h.call(a),b||(b={}),c=0,d=a.length;d>c;c++)e=a[c]=this.get(a[c]),e&&(this._deIndex(e),g=this.models.indexOf(e),this.models.splice(g,1),b.silent||(b.index=g,e.trigger?e.trigger("remove",e,this,b):this.trigger("remove",e,this,b)),this._removeReference(e,b));return i?a[0]:a},reset:function(a,b){b||(b={});for(var c=0,d=this.models.length;d>c;c++)this._removeReference(this.models[c],b);return b.previousModels=this.models,this._reset(),a=this.add(a,g({silent:!0},b)),b.silent||this.trigger("reset",this,b),a},sort:function(a){var b=this;if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),this.models.sort("string"==typeof this.comparator?function(a,c){return a.get?(a=a.get(b.comparator),c=c.get(b.comparator)):(a=a[b.comparator],c=c[b.comparator]),a>c||void 0===a?1:c>a||void 0===c?-1:0}:1===this.comparator.length?function(a,c){return a=b.comparator(a),c=b.comparator(c),a>c||void 0===a?1:c>a||void 0===c?-1:0}:this.comparator.bind(this)),a.silent||this.trigger("sort",this,a),this},_reset:function(){var a=this.indexes||[],b=0;a.push(this.mainIndex),a.push("cid");var c=a.length;for(this.models=[],this._indexes={};c>b;b++)this._indexes[a[b]]={}},_prepareModel:function(a,b){if(!this.model)return a;if(this.isModel(a))return a.collection||(a.collection=this),a;b=b?g({},b):{},b.collection=this;var c=new this.model(a,b);return c.validationError?(this.trigger("invalid",this,c.validationError,b),!1):c},_deIndex:function(a){for(var b in this._indexes)delete this._indexes[b][a[b]||a.get&&a.get(b)]},_index:function(a){for(var b in this._indexes){var c=a[b]||a.get&&a.get(b);c&&(this._indexes[b][c]=a)}},_addReference:function(a){this._index(a),a.collection||(a.collection=this),a.on&&a.on("all",this._onModelEvent,this)},_removeReference:function(a){this===a.collection&&delete a.collection,this._deIndex(a),a.off&&a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+this.mainIndex&&(this._deIndex(b),this._index(b)),this.trigger.apply(this,arguments))}}),Object.defineProperties(c.prototype,{length:{get:function(){return this.models.length}},isCollection:{value:!0}});var i=["indexOf","lastIndexOf","every","some","forEach","map","filter","reduce","reduceRight"];i.forEach(function(a){c.prototype[a]=function(){return this.models[a].apply(this.models,arguments)}}),c.prototype.each=c.prototype.forEach,c.extend=e,b.exports=c},{"ampersand-class-extend":4,"backbone-events-standalone":6,"extend-object":7,"is-array":8}],4:[function(a,b){var c=a("extend-object"),d=function(a){var b,d=this,e=[].slice.call(arguments);b=a&&a.hasOwnProperty("constructor")?a.constructor:function(){return d.apply(this,arguments)},c(b,d);var f=function(){this.constructor=b};return f.prototype=d.prototype,b.prototype=new f,a&&(e.unshift(b.prototype),c.apply(null,e)),b.__super__=d.prototype,b};b.exports=d},{"extend-object":7}],5:[function(a,b,c){!function(){function a(){return{keys:Object.keys,uniqueId:function(a){var b=++j+"";return a?a+b:b},has:function(a,b){return h.call(a,b)},each:function(a,b,c){if(null!=a)if(g&&a.forEach===g)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,e=a.length;e>d;d++)if(b.call(c,a[d],d,a)===f)return}else for(var h in a)if(this.has(a,h)&&b.call(c,a[h],h,a)===f)return},once:function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}}}}var d,e=this,f={},g=Array.prototype.forEach,h=Object.prototype.hasOwnProperty,i=Array.prototype.slice,j=0,k=a();d={on:function(a,b,c){if(!m(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,c){if(!m(this,"once",a,[b,c])||!b)return this;var d=this,e=k.once(function(){d.off(a,e),b.apply(this,arguments)});return e._callback=b,this.on(a,e,c)},off:function(a,b,c){var d,e,f,g,h,i,j,l;if(!this._events||!m(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;for(g=a?[a]:k.keys(this._events),h=0,i=g.length;i>h;h++)if(a=g[h],f=this._events[a]){if(this._events[a]=d=[],b||c)for(j=0,l=f.length;l>j;j++)e=f[j],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=i.call(arguments,1);if(!m(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&n(c,b),d&&n(d,arguments),this},stopListening:function(a,b,c){var d=this._listeners;if(!d)return this;var e=!b&&!c;"object"==typeof b&&(c=this),a&&((d={})[a._listenerId]=a);for(var f in d)d[f].off(b,c,this),e&&delete this._listeners[f];return this}};var l=/\s+/,m=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(l.test(c)){for(var f=c.split(l),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},n=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}},o={listenTo:"on",listenToOnce:"once"};k.each(o,function(a,b){d[b]=function(b,c,d){var e=this._listeners||(this._listeners={}),f=b._listenerId||(b._listenerId=k.uniqueId("l"));return e[f]=b,"object"==typeof c&&(d=this),b[a](c,d,this),this}}),d.bind=d.on,d.unbind=d.off,d.mixin=function(a){var b=["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"];return k.each(b,function(b){a[b]=this[b]},this),a},"function"==typeof define?define(function(){return d}):"undefined"!=typeof c?("undefined"!=typeof b&&b.exports&&(c=b.exports=d),c.BackboneEvents=d):e.BackboneEvents=d}(this)},{}],6:[function(a,b){b.exports=a("./backbone-events-standalone")},{"./backbone-events-standalone":5}],7:[function(a,b){var c=[],d=c.forEach,e=c.slice;b.exports=function(a){return d.call(e.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a}},{}],8:[function(a,b){var c=Array.isArray,d=Object.prototype.toString;b.exports=c||function(a){return!!a&&"[object Array]"==d.call(a)}},{}],9:[function(a,b){"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-model"]=window.ampersand["ampersand-model"]||[],window.ampersand["ampersand-model"].push("4.0.3"));var c=a("ampersand-state"),d=a("underscore"),e=a("ampersand-sync"),f=c.extend({save:function(a,b,c){{var e,f,g;this.attributes}if(null==a||"object"==typeof a?(e=a,c=b):(e={})[a]=b,c=d.extend({validate:!0},c),e&&!c.wait){if(!this.set(e,c))return!1}else if(!this._validate(e,c))return!1;void 0===c.parse&&(c.parse=!0);var i=this,j=c.success;return c.success=function(a){var b=i.parse(a,c);return c.wait&&(b=d.extend(e||{},b)),d.isObject(b)&&!i.set(b,c)?!1:(j&&j(i,a,c),void i.trigger("sync",i,a,c))},h(this,c),f=this.isNew()?"create":c.patch?"patch":"update","patch"===f&&(c.attrs=e),c.wait&&(c.attrs=d.extend(i.serialize(),e)),g=this.sync(f,this,c)},fetch:function(a){a=a?d.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;return a.success=function(d){return b.set(b.parse(d,a),a)?(c&&c(b,d,a),void b.trigger("sync",b,d,a)):!1},h(this,a),this.sync("read",this,a)},destroy:function(a){a=a?d.clone(a):{};var b=this,c=a.success,e=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(d){(a.wait||b.isNew())&&e(),c&&c(b,d,a),b.isNew()||b.trigger("sync",b,d,a)},this.isNew())return a.success(),!1;h(this,a);var f=this.sync("delete",this,a);return a.wait||e(),f},sync:function(){return e.apply(this,arguments)},url:function(){var a=d.result(this,"urlRoot")||d.result(this.collection,"url")||g();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.getId())}}),g=function(){throw new Error('A "url" property or function must be specified')},h=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}};b.exports=f},{"ampersand-state":55,"ampersand-sync":10,underscore:24}],10:[function(a,b){var c=a("underscore"),d=a("xhr"),e=a("qs"),f=function(){throw new Error('A "url" property or function must be specified')};b.exports=function(a,b,h){var i=g[a],j={};c.defaults(h||(h={}),{emulateHTTP:!1,emulateJSON:!1});var k={type:i};h.url||(k.url=c.result(b,"url")||f()),null!=h.data||!b||"create"!==a&&"update"!==a&&"patch"!==a||(k.json=h.attrs||b.toJSON(h)),h.data&&"GET"===i&&(k.url+=c.contains(k.url,"?")?"&":"?",k.url+=e.stringify(h.data)),h.emulateJSON&&(j["Content-Type"]="application/x-www-form-urlencoded",k.body=k.json?{model:k.json}:{},delete k.json),!h.emulateHTTP||"PUT"!==i&&"DELETE"!==i&&"PATCH"!==i||(k.type="POST",h.emulateJSON&&(k.body._method=i),j["X-HTTP-Method-Override"]=i),h.emulateJSON&&(k.body=e.stringify(k.body));var l=c.result(b,"ajaxConfig")||{};if(l.headers&&c.extend(j,l.headers),k.headers=j,l.useXDR&&(k.useXDR=!0),l.xhrFields){var m=l.beforeSend;k.beforeSend=function(a){for(var b in l.xhrFields)a[b]=l.xhrFields[b];return m?m.apply(this,arguments):void 0},k.xhrFields=l.xhrFields}k.method=k.type;var n=c.extend(k,h),o=h.xhr=d(n,function(a,b,c){if(a&&h.error)return h.error(b,"error",a.message);if(c&&"string"==typeof c)try{c=JSON.parse(c)}catch(d){}return h.success?h.success(c,"success",b):void 0});return b.trigger("request",b,o,h,n),o.ajaxSettings=n,o};var g={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"}},{qs:11,underscore:16,xhr:17}],11:[function(a,b){b.exports=a("./lib")},{"./lib":12}],12:[function(a,b){var c=a("./stringify"),d=a("./parse");b.exports={stringify:c,parse:d}},{"./parse":13,"./stringify":14}],13:[function(a,b){var c=a("./utils"),d={delimiter:"&",depth:5,arrayLimit:20,parametersLimit:1e3};d.parseValues=function(a,b){b="string"==typeof b?b:d.delimiter;for(var e={},f=a.split(b,d.parametersLimit),g=0,h=f.length;h>g;++g){var i=f[g],j=-1===i.indexOf("]=")?i.indexOf("="):i.indexOf("]=")+1;if(-1===j)e[c.decode(i)]="";else{var k=c.decode(i.slice(0,j)),l=c.decode(i.slice(j+1));e[k]=e[k]?[].concat(e[k]).concat(l):l}}return e},d.parseObject=function(a,b){if(!a.length)return b;var c=a.shift(),e={};if("[]"===c)e=[],e=e.concat(d.parseObject(a,b));else{var f="["===c[0]&&"]"===c[c.length-1]?c.slice(1,c.length-1):c,g=parseInt(f,10);!isNaN(g)&&c!==f&&g<=d.arrayLimit?(e=[],e[g]=d.parseObject(a,b)):e[f]=d.parseObject(a,b)}return e},d.parseKeys=function(a,b,c){if(a){var e=/^([^\[\]]*)/,f=/(\[[^\[\]]*\])/g,g=e.exec(a);if(!Object.prototype.hasOwnProperty(g[1])){var h=[];g[1]&&h.push(g[1]);for(var i=0;null!==(g=f.exec(a))&&c>i;)++i,Object.prototype.hasOwnProperty(g[1].replace(/\[|\]/g,""))||h.push(g[1]);return g&&h.push("["+a.slice(g.index)+"]"),d.parseObject(h,b)}}},b.exports=function(a,b,e){if(""===a||null===a||"undefined"==typeof a)return{};"number"!=typeof b&&(e=b,b=d.depth);var f="string"==typeof a?d.parseValues(a,e):c.clone(a),g={};for(var h in f)if(f.hasOwnProperty(h)){var i=d.parseKeys(h,f[h],b);g=c.merge(g,i)}return c.compact(g)}},{"./utils":15}],14:[function(a,b){var c={delimiter:"&"};c.stringify=function(a,b){if(Buffer.isBuffer(a)?a=a.toString():a instanceof Date?a=a.toISOString():null===a&&(a=""),"string"==typeof a||"number"==typeof a||"boolean"==typeof a)return[encodeURIComponent(b)+"="+encodeURIComponent(a)];var d=[];for(var e in a)a.hasOwnProperty(e)&&(d=d.concat(c.stringify(a[e],b+"["+e+"]")));return d},b.exports=function(a,b){b="undefined"==typeof b?c.delimiter:b;var d=[];for(var e in a)a.hasOwnProperty(e)&&(d=d.concat(c.stringify(a[e],e)));return d.join(b)}},{}],15:[function(a,b,c){c.arrayToObject=function(a){for(var b={},c=0,d=a.length;d>c;++c)"undefined"!=typeof a[c]&&(b[c]=a[c]);return b},c.clone=function(a){if("object"!=typeof a||null===a)return a;if(Buffer.isBuffer(a))return a.toString();var b=Array.isArray(a)?[]:{};for(var d in a)a.hasOwnProperty(d)&&(b[d]=c.clone(a[d]));return b},c.merge=function(a,b){if(!b)return a;var d=c.clone(a);if(Array.isArray(b)){for(var e=0,f=b.length;f>e;++e)"undefined"!=typeof b[e]&&(d[e]="object"==typeof d[e]?c.merge(d[e],b[e]):b[e]);return d}Array.isArray(d)&&(d=c.arrayToObject(d));for(var g=Object.keys(b),h=0,i=g.length;i>h;++h){var j=g[h],k=b[j];d[j]=k&&"object"==typeof k?d[j]?c.merge(d[j],k):c.clone(k):k}return d},c.decode=function(a){try{return decodeURIComponent(a.replace(/\+/g," "))}catch(b){return a}},c.compact=function(a){if("object"!=typeof a||null===a)return a;var b={};for(var d in a)if(a.hasOwnProperty(d))if(Array.isArray(a[d])){b[d]=[];for(var e=0,f=a[d].length;f>e;e++)"undefined"!=typeof a[d][e]&&b[d].push(a[d][e])}else b[d]=c.compact(a[d]);return b}},{}],16:[function(a,b,c){(function(){var a=this,d=a._,e={},f=Array.prototype,g=Object.prototype,h=Function.prototype,i=f.push,j=f.slice,k=f.concat,l=g.toString,m=g.hasOwnProperty,n=f.forEach,o=f.map,p=f.reduce,q=f.reduceRight,r=f.filter,s=f.every,t=f.some,u=f.indexOf,v=f.lastIndexOf,w=Array.isArray,x=Object.keys,y=h.bind,z=function(a){return a instanceof z?a:this instanceof z?void(this._wrapped=a):new z(a)};"undefined"!=typeof c?("undefined"!=typeof b&&b.exports&&(c=b.exports=z),c._=z):a._=z,z.VERSION="1.6.0";var A=z.each=z.forEach=function(a,b,c){if(null==a)return a;if(n&&a.forEach===n)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,f=a.length;f>d;d++)if(b.call(c,a[d],d,a)===e)return}else for(var g=z.keys(a),d=0,f=g.length;f>d;d++)if(b.call(c,a[g[d]],g[d],a)===e)return;return a};z.map=z.collect=function(a,b,c){var d=[];return null==a?d:o&&a.map===o?a.map(b,c):(A(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var B="Reduce of empty array with no initial value";z.reduce=z.foldl=z.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),p&&a.reduce===p)return d&&(b=z.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(A(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(B);return c},z.reduceRight=z.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),q&&a.reduceRight===q)return d&&(b=z.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=z.keys(a);f=g.length}if(A(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(B);return c},z.find=z.detect=function(a,b,c){var d;return C(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},z.filter=z.select=function(a,b,c){var d=[];return null==a?d:r&&a.filter===r?a.filter(b,c):(A(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},z.reject=function(a,b,c){return z.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},z.every=z.all=function(a,b,c){b||(b=z.identity);var d=!0;return null==a?d:s&&a.every===s?a.every(b,c):(A(a,function(a,f,g){return(d=d&&b.call(c,a,f,g))?void 0:e}),!!d)};var C=z.some=z.any=function(a,b,c){b||(b=z.identity);var d=!1;return null==a?d:t&&a.some===t?a.some(b,c):(A(a,function(a,f,g){return d||(d=b.call(c,a,f,g))?e:void 0}),!!d)};z.contains=z.include=function(a,b){return null==a?!1:u&&a.indexOf===u?-1!=a.indexOf(b):C(a,function(a){return a===b})},z.invoke=function(a,b){var c=j.call(arguments,2),d=z.isFunction(b);return z.map(a,function(a){return(d?b:a[b]).apply(a,c)})},z.pluck=function(a,b){return z.map(a,z.property(b))},z.where=function(a,b){return z.filter(a,z.matches(b))},z.findWhere=function(a,b){return z.find(a,z.matches(b))},z.max=function(a,b,c){if(!b&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);var d=-1/0,e=-1/0;return A(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;h>e&&(d=a,e=h)}),d},z.min=function(a,b,c){if(!b&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);var d=1/0,e=1/0;return A(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;e>h&&(d=a,e=h)}),d},z.shuffle=function(a){var b,c=0,d=[];return A(a,function(a){b=z.random(c++),d[c-1]=d[b],d[b]=a}),d},z.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=z.values(a)),a[z.random(a.length-1)]):z.shuffle(a).slice(0,Math.max(0,b))};var D=function(a){return null==a?z.identity:z.isFunction(a)?a:z.property(a)};z.sortBy=function(a,b,c){return b=D(b),z.pluck(z.map(a,function(a,d,e){return{value:a,index:d,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var E=function(a){return function(b,c,d){var e={};return c=D(c),A(b,function(f,g){var h=c.call(d,f,g,b);a(e,h,f)}),e}};z.groupBy=E(function(a,b,c){z.has(a,b)?a[b].push(c):a[b]=[c]}),z.indexBy=E(function(a,b,c){a[b]=c}),z.countBy=E(function(a,b){z.has(a,b)?a[b]++:a[b]=1}),z.sortedIndex=function(a,b,c,d){c=D(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},z.toArray=function(a){return a?z.isArray(a)?j.call(a):a.length===+a.length?z.map(a,z.identity):z.values(a):[]},z.size=function(a){return null==a?0:a.length===+a.length?a.length:z.keys(a).length},z.first=z.head=z.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:j.call(a,0,b)},z.initial=function(a,b,c){return j.call(a,0,a.length-(null==b||c?1:b))},z.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:j.call(a,Math.max(a.length-b,0))},z.rest=z.tail=z.drop=function(a,b,c){return j.call(a,null==b||c?1:b)},z.compact=function(a){return z.filter(a,z.identity)};var F=function(a,b,c){return b&&z.every(a,z.isArray)?k.apply(c,a):(A(a,function(a){z.isArray(a)||z.isArguments(a)?b?i.apply(c,a):F(a,b,c):c.push(a)}),c)};z.flatten=function(a,b){return F(a,b,[])},z.without=function(a){return z.difference(a,j.call(arguments,1))},z.partition=function(a,b){var c=[],d=[];return A(a,function(a){(b(a)?c:d).push(a)}),[c,d]},z.uniq=z.unique=function(a,b,c,d){z.isFunction(b)&&(d=c,c=b,b=!1);var e=c?z.map(a,c,d):a,f=[],g=[];return A(e,function(c,d){(b?d&&g[g.length-1]===c:z.contains(g,c))||(g.push(c),f.push(a[d]))}),f},z.union=function(){return z.uniq(z.flatten(arguments,!0))},z.intersection=function(a){var b=j.call(arguments,1);return z.filter(z.uniq(a),function(a){return z.every(b,function(b){return z.contains(b,a)})})},z.difference=function(a){var b=k.apply(f,j.call(arguments,1));return z.filter(a,function(a){return!z.contains(b,a)})},z.zip=function(){for(var a=z.max(z.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=z.pluck(arguments,""+c);return b},z.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},z.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=z.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(u&&a.indexOf===u)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},z.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(v&&a.lastIndexOf===v)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},z.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var G=function(){};z.bind=function(a,b){var c,d;if(y&&a.bind===y)return y.apply(a,j.call(arguments,1));if(!z.isFunction(a))throw new TypeError;return c=j.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(j.call(arguments)));G.prototype=a.prototype;var e=new G;G.prototype=null;var f=a.apply(e,c.concat(j.call(arguments)));return Object(f)===f?f:e}},z.partial=function(a){var b=j.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;f>e;e++)d[e]===z&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},z.bindAll=function(a){var b=j.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return A(b,function(b){a[b]=z.bind(a[b],a)}),a},z.memoize=function(a,b){var c={};return b||(b=z.identity),function(){var d=b.apply(this,arguments);return z.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},z.delay=function(a,b){var c=j.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},z.defer=function(a){return z.delay.apply(z,[a,1].concat(j.call(arguments,1)))},z.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:z.now(),g=null,f=a.apply(d,e),d=e=null};return function(){var j=z.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),d=e=null):g||c.trailing===!1||(g=setTimeout(i,k)),f}},z.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=z.now()-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),f=e=null))};return function(){f=this,e=arguments,g=z.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},z.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},z.wrap=function(a,b){return z.partial(b,a)},z.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},z.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},z.keys=function(a){if(!z.isObject(a))return[];if(x)return x(a);var b=[];for(var c in a)z.has(a,c)&&b.push(c);return b},z.values=function(a){for(var b=z.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},z.pairs=function(a){for(var b=z.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},z.invert=function(a){for(var b={},c=z.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},z.functions=z.methods=function(a){var b=[];for(var c in a)z.isFunction(a[c])&&b.push(c);return b.sort()},z.extend=function(a){return A(j.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},z.pick=function(a){var b={},c=k.apply(f,j.call(arguments,1));return A(c,function(c){c in a&&(b[c]=a[c])}),b},z.omit=function(a){var b={},c=k.apply(f,j.call(arguments,1));for(var d in a)z.contains(c,d)||(b[d]=a[d]);return b},z.defaults=function(a){return A(j.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},z.clone=function(a){return z.isObject(a)?z.isArray(a)?a.slice():z.extend({},a):a},z.tap=function(a,b){return b(a),a};var H=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof z&&(a=a._wrapped),b instanceof z&&(b=b._wrapped);var e=l.call(a);if(e!=l.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(z.isFunction(g)&&g instanceof g&&z.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1;c.push(a),d.push(b);var i=0,j=!0;if("[object Array]"==e){if(i=a.length,j=i==b.length)for(;i--&&(j=H(a[i],b[i],c,d)););}else{for(var k in a)if(z.has(a,k)&&(i++,!(j=z.has(b,k)&&H(a[k],b[k],c,d))))break;if(j){for(k in b)if(z.has(b,k)&&!i--)break;j=!i}}return c.pop(),d.pop(),j};z.isEqual=function(a,b){return H(a,b,[],[])},z.isEmpty=function(a){if(null==a)return!0;if(z.isArray(a)||z.isString(a))return 0===a.length;for(var b in a)if(z.has(a,b))return!1;return!0},z.isElement=function(a){return!(!a||1!==a.nodeType)},z.isArray=w||function(a){return"[object Array]"==l.call(a)},z.isObject=function(a){return a===Object(a)},A(["Arguments","Function","String","Number","Date","RegExp"],function(a){z["is"+a]=function(b){return l.call(b)=="[object "+a+"]"}}),z.isArguments(arguments)||(z.isArguments=function(a){return!(!a||!z.has(a,"callee"))}),"function"!=typeof/./&&(z.isFunction=function(a){return"function"==typeof a}),z.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},z.isNaN=function(a){return z.isNumber(a)&&a!=+a},z.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==l.call(a)},z.isNull=function(a){return null===a},z.isUndefined=function(a){return void 0===a},z.has=function(a,b){return m.call(a,b)},z.noConflict=function(){return a._=d,this},z.identity=function(a){return a},z.constant=function(a){return function(){return a}},z.property=function(a){return function(b){return b[a]}},z.matches=function(a){return function(b){if(b===a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}},z.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},z.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},z.now=Date.now||function(){return(new Date).getTime()};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=z.invert(I.escape);var J={escape:new RegExp("["+z.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+z.keys(I.unescape).join("|")+")","g")};z.each(["escape","unescape"],function(a){z[a]=function(b){return null==b?"":(""+b).replace(J[a],function(b){return I[a][b]})}}),z.result=function(a,b){if(null==a)return void 0;var c=a[b];return z.isFunction(c)?c.call(a):c},z.mixin=function(a){A(z.functions(a),function(b){var c=z[b]=a[b];z.prototype[b]=function(){var a=[this._wrapped];return i.apply(a,arguments),O.call(this,c.apply(z,a))}})};var K=0;z.uniqueId=function(a){var b=++K+"";return a?a+b:b},z.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\t|\u2028|\u2029/g;z.template=function(a,b,c){var d;c=z.defaults({},c,z.templateSettings);var e=new RegExp([(c.escape||L).source,(c.interpolate||L).source,(c.evaluate||L).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(N,function(a){return"\\"+M[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,z);var i=function(a){return d.call(this,a,z)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},z.chain=function(a){return z(a).chain()};var O=function(a){return this._chain?z(a).chain():a};z.mixin(z),A(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=f[a];z.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],O.call(this,c)}}),A(["concat","join","slice"],function(a){var b=f[a];z.prototype[a]=function(){return O.call(this,b.apply(this._wrapped,arguments))}}),z.extend(z.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return z})}).call(this)},{}],17:[function(a,b){function c(a,b){function c(){4===p.readyState&&x()}function e(){var a=null;if(p.response?a=p.response:"text"!==p.responseType&&p.responseType||(a=p.responseText||p.responseXML),w)try{a=JSON.parse(a)}catch(b){}return a}function k(){return 1223===p.status?204:p.status}function l(a,b){var c=null;if(0===a||a>=400&&600>a){var d=("string"==typeof b?b:!1)||h[String(a).charAt(0)];c=new Error(d),c.statusCode=a}return c}function m(){var a=k(),c=e(),d=l(a,c),f={body:c,statusCode:a,statusText:p.statusText,raw:p};f.headers=p.getAllResponseHeaders?g(p.getAllResponseHeaders()):{},b(d,f,f.body)}function n(){var a=k(),c=l(a);p.status=p.statusCode=a,p.body=e(),p.headers=g(p.getAllResponseHeaders()),b(c,p,p.body)}function o(a){b(a,p)}"string"==typeof a&&(a={uri:a}),a=a||{},b=f(b);var p=a.xhr||null;p||(p=a.cors||a.useXDR?new j:new i);var q,r=p.url=a.uri||a.url,s=p.method=a.method||"GET",t=a.body||a.data,u=p.headers=a.headers||{},v=!!a.sync,w=!1,x=a.response?m:n;if("json"in a&&(w=!0,u.Accept="application/json","GET"!==s&&"HEAD"!==s&&(u["Content-Type"]="application/json",t=JSON.stringify(a.json))),p.onreadystatechange=c,p.onload=x,p.onerror=o,p.onprogress=function(){},p.ontimeout=d,p.open(s,r,!v),(a.withCredentials||a.cors&&a.withCredentials!==!1)&&(p.withCredentials=!0),v||(p.timeout="timeout"in a?a.timeout:5e3),p.setRequestHeader)for(q in u)u.hasOwnProperty(q)&&p.setRequestHeader(q,u[q]);else if(a.headers)throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in a&&(p.responseType=a.responseType),"beforeSend"in a&&"function"==typeof a.beforeSend&&a.beforeSend(p),p.send(t),p}function d(){}var e=a("global/window"),f=a("once"),g=a("parse-headers"),h={0:"Internal XMLHttpRequest Error",4:"4xx Client Error",5:"5xx Server Error"},i=e.XMLHttpRequest||d,j="withCredentials"in new i?i:e.XDomainRequest;
b.exports=c},{"global/window":18,once:19,"parse-headers":23}],18:[function(a,b){b.exports="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}},{}],19:[function(a,b){function c(a){var b=!1;return function(){return b?void 0:(b=!0,a.apply(this,arguments))}}b.exports=c,c.proto=c(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return c(this)},configurable:!0})})},{}],20:[function(a,b){function c(a,b,c){if(!g(b))throw new TypeError("iterator must be a function");arguments.length<3&&(c=this),"[object Array]"===h.call(a)?d(a,b,c):"string"==typeof a?e(a,b,c):f(a,b,c)}function d(a,b,c){for(var d=0,e=a.length;e>d;d++)i.call(a,d)&&b.call(c,a[d],d,a)}function e(a,b,c){for(var d=0,e=a.length;e>d;d++)b.call(c,a.charAt(d),d,a)}function f(a,b,c){for(var d in a)i.call(a,d)&&b.call(c,a[d],d,a)}var g=a("is-function");b.exports=c;var h=Object.prototype.toString,i=Object.prototype.hasOwnProperty},{"is-function":21}],21:[function(a,b){function c(a){var b=d.call(a);return"[object Function]"===b||"function"==typeof a&&"[object RegExp]"!==b||"undefined"!=typeof window&&(a===window.setTimeout||a===window.alert||a===window.confirm||a===window.prompt)}b.exports=c;var d=Object.prototype.toString},{}],22:[function(a,b,c){function d(a){return a.replace(/^\s*|\s*$/g,"")}c=b.exports=d,c.left=function(a){return a.replace(/^\s*/,"")},c.right=function(a){return a.replace(/\s*$/,"")}},{}],23:[function(a,b){var c=a("trim"),d=a("for-each"),e=function(a){return"[object Array]"===Object.prototype.toString.call(a)};b.exports=function(a){if(!a)return{};var b={};return d(c(a).split("\n"),function(a){var d=a.indexOf(":"),f=c(a.slice(0,d)).toLowerCase(),g=c(a.slice(d+1));"undefined"==typeof b[f]?b[f]=g:e(b[f])?b[f].push(g):b[f]=[b[f],g]}),b}},{"for-each":20,trim:22}],24:[function(a,b,c){(function(){var a=this,d=a._,e=Array.prototype,f=Object.prototype,g=Function.prototype,h=e.push,i=e.slice,j=e.concat,k=f.toString,l=f.hasOwnProperty,m=Array.isArray,n=Object.keys,o=g.bind,p=function(a){return a instanceof p?a:this instanceof p?void(this._wrapped=a):new p(a)};"undefined"!=typeof c?("undefined"!=typeof b&&b.exports&&(c=b.exports=p),c._=p):a._=p,p.VERSION="1.7.0";var q=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}};p.iteratee=function(a,b,c){return null==a?p.identity:p.isFunction(a)?q(a,b,c):p.isObject(a)?p.matches(a):p.property(a)},p.each=p.forEach=function(a,b,c){if(null==a)return a;b=q(b,c);var d,e=a.length;if(e===+e)for(d=0;e>d;d++)b(a[d],d,a);else{var f=p.keys(a);for(d=0,e=f.length;e>d;d++)b(a[f[d]],f[d],a)}return a},p.map=p.collect=function(a,b,c){if(null==a)return[];b=p.iteratee(b,c);for(var d,e=a.length!==+a.length&&p.keys(a),f=(e||a).length,g=Array(f),h=0;f>h;h++)d=e?e[h]:h,g[h]=b(a[d],d,a);return g};var r="Reduce of empty array with no initial value";p.reduce=p.foldl=p.inject=function(a,b,c,d){null==a&&(a=[]),b=q(b,d,4);var e,f=a.length!==+a.length&&p.keys(a),g=(f||a).length,h=0;if(arguments.length<3){if(!g)throw new TypeError(r);c=a[f?f[h++]:h++]}for(;g>h;h++)e=f?f[h]:h,c=b(c,a[e],e,a);return c},p.reduceRight=p.foldr=function(a,b,c,d){null==a&&(a=[]),b=q(b,d,4);var e,f=a.length!==+a.length&&p.keys(a),g=(f||a).length;if(arguments.length<3){if(!g)throw new TypeError(r);c=a[f?f[--g]:--g]}for(;g--;)e=f?f[g]:g,c=b(c,a[e],e,a);return c},p.find=p.detect=function(a,b,c){var d;return b=p.iteratee(b,c),p.some(a,function(a,c,e){return b(a,c,e)?(d=a,!0):void 0}),d},p.filter=p.select=function(a,b,c){var d=[];return null==a?d:(b=p.iteratee(b,c),p.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d)},p.reject=function(a,b,c){return p.filter(a,p.negate(p.iteratee(b)),c)},p.every=p.all=function(a,b,c){if(null==a)return!0;b=p.iteratee(b,c);var d,e,f=a.length!==+a.length&&p.keys(a),g=(f||a).length;for(d=0;g>d;d++)if(e=f?f[d]:d,!b(a[e],e,a))return!1;return!0},p.some=p.any=function(a,b,c){if(null==a)return!1;b=p.iteratee(b,c);var d,e,f=a.length!==+a.length&&p.keys(a),g=(f||a).length;for(d=0;g>d;d++)if(e=f?f[d]:d,b(a[e],e,a))return!0;return!1},p.contains=p.include=function(a,b){return null==a?!1:(a.length!==+a.length&&(a=p.values(a)),p.indexOf(a,b)>=0)},p.invoke=function(a,b){var c=i.call(arguments,2),d=p.isFunction(b);return p.map(a,function(a){return(d?b:a[b]).apply(a,c)})},p.pluck=function(a,b){return p.map(a,p.property(b))},p.where=function(a,b){return p.filter(a,p.matches(b))},p.findWhere=function(a,b){return p.find(a,p.matches(b))},p.max=function(a,b,c){var d,e,f=-1/0,g=-1/0;if(null==b&&null!=a){a=a.length===+a.length?a:p.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],d>f&&(f=d)}else b=p.iteratee(b,c),p.each(a,function(a,c,d){e=b(a,c,d),(e>g||e===-1/0&&f===-1/0)&&(f=a,g=e)});return f},p.min=function(a,b,c){var d,e,f=1/0,g=1/0;if(null==b&&null!=a){a=a.length===+a.length?a:p.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],f>d&&(f=d)}else b=p.iteratee(b,c),p.each(a,function(a,c,d){e=b(a,c,d),(g>e||1/0===e&&1/0===f)&&(f=a,g=e)});return f},p.shuffle=function(a){for(var b,c=a&&a.length===+a.length?a:p.values(a),d=c.length,e=Array(d),f=0;d>f;f++)b=p.random(0,f),b!==f&&(e[f]=e[b]),e[b]=c[f];return e},p.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=p.values(a)),a[p.random(a.length-1)]):p.shuffle(a).slice(0,Math.max(0,b))},p.sortBy=function(a,b,c){return b=p.iteratee(b,c),p.pluck(p.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var s=function(a){return function(b,c,d){var e={};return c=p.iteratee(c,d),p.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)}),e}};p.groupBy=s(function(a,b,c){p.has(a,c)?a[c].push(b):a[c]=[b]}),p.indexBy=s(function(a,b,c){a[c]=b}),p.countBy=s(function(a,b,c){p.has(a,c)?a[c]++:a[c]=1}),p.sortedIndex=function(a,b,c,d){c=p.iteratee(c,d,1);for(var e=c(b),f=0,g=a.length;g>f;){var h=f+g>>>1;c(a[h])<e?f=h+1:g=h}return f},p.toArray=function(a){return a?p.isArray(a)?i.call(a):a.length===+a.length?p.map(a,p.identity):p.values(a):[]},p.size=function(a){return null==a?0:a.length===+a.length?a.length:p.keys(a).length},p.partition=function(a,b,c){b=p.iteratee(b,c);var d=[],e=[];return p.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)}),[d,e]},p.first=p.head=p.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:i.call(a,0,b)},p.initial=function(a,b,c){return i.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},p.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:i.call(a,Math.max(a.length-b,0))},p.rest=p.tail=p.drop=function(a,b,c){return i.call(a,null==b||c?1:b)},p.compact=function(a){return p.filter(a,p.identity)};var t=function(a,b,c,d){if(b&&p.every(a,p.isArray))return j.apply(d,a);for(var e=0,f=a.length;f>e;e++){var g=a[e];p.isArray(g)||p.isArguments(g)?b?h.apply(d,g):t(g,b,c,d):c||d.push(g)}return d};p.flatten=function(a,b){return t(a,b,!1,[])},p.without=function(a){return p.difference(a,i.call(arguments,1))},p.uniq=p.unique=function(a,b,c,d){if(null==a)return[];p.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=p.iteratee(c,d));for(var e=[],f=[],g=0,h=a.length;h>g;g++){var i=a[g];if(b)g&&f===i||e.push(i),f=i;else if(c){var j=c(i,g,a);p.indexOf(f,j)<0&&(f.push(j),e.push(i))}else p.indexOf(e,i)<0&&e.push(i)}return e},p.union=function(){return p.uniq(t(arguments,!0,!0,[]))},p.intersection=function(a){if(null==a)return[];for(var b=[],c=arguments.length,d=0,e=a.length;e>d;d++){var f=a[d];if(!p.contains(b,f)){for(var g=1;c>g&&p.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},p.difference=function(a){var b=t(i.call(arguments,1),!0,!0,[]);return p.filter(a,function(a){return!p.contains(b,a)})},p.zip=function(a){if(null==a)return[];for(var b=p.max(arguments,"length").length,c=Array(b),d=0;b>d;d++)c[d]=p.pluck(arguments,d);return c},p.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},p.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=p.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}for(;e>d;d++)if(a[d]===b)return d;return-1},p.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=a.length;for("number"==typeof c&&(d=0>c?d+c+1:Math.min(d,c+1));--d>=0;)if(a[d]===b)return d;return-1},p.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;d>f;f++,a+=c)e[f]=a;return e};var u=function(){};p.bind=function(a,b){var c,d;if(o&&a.bind===o)return o.apply(a,i.call(arguments,1));if(!p.isFunction(a))throw new TypeError("Bind must be called on a function");return c=i.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(i.call(arguments)));u.prototype=a.prototype;var e=new u;u.prototype=null;var f=a.apply(e,c.concat(i.call(arguments)));return p.isObject(f)?f:e}},p.partial=function(a){var b=i.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;f>e;e++)d[e]===p&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},p.bindAll=function(a){var b,c,d=arguments.length;if(1>=d)throw new Error("bindAll must be passed function names");for(b=1;d>b;b++)c=arguments[b],a[c]=p.bind(a[c],a);return a},p.memoize=function(a,b){var c=function(d){var e=c.cache,f=b?b.apply(this,arguments):d;return p.has(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},p.delay=function(a,b){var c=i.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},p.defer=function(a){return p.delay.apply(p,[a,1].concat(i.call(arguments,1)))},p.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:p.now(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=p.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k||k>b?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),g||(d=e=null)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},p.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=p.now()-g;b>j&&j>0?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=p.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},p.wrap=function(a,b){return p.partial(b,a)},p.negate=function(a){return function(){return!a.apply(this,arguments)}},p.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},p.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},p.before=function(a,b){var c;return function(){return--a>0?c=b.apply(this,arguments):b=null,c}},p.once=p.partial(p.before,2),p.keys=function(a){if(!p.isObject(a))return[];if(n)return n(a);var b=[];for(var c in a)p.has(a,c)&&b.push(c);return b},p.values=function(a){for(var b=p.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},p.pairs=function(a){for(var b=p.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},p.invert=function(a){for(var b={},c=p.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},p.functions=p.methods=function(a){var b=[];for(var c in a)p.isFunction(a[c])&&b.push(c);return b.sort()},p.extend=function(a){if(!p.isObject(a))return a;for(var b,c,d=1,e=arguments.length;e>d;d++){b=arguments[d];for(c in b)l.call(b,c)&&(a[c]=b[c])}return a},p.pick=function(a,b,c){var d,e={};if(null==a)return e;if(p.isFunction(b)){b=q(b,c);for(d in a){var f=a[d];b(f,d,a)&&(e[d]=f)}}else{var g=j.apply([],i.call(arguments,1));a=new Object(a);for(var h=0,k=g.length;k>h;h++)d=g[h],d in a&&(e[d]=a[d])}return e},p.omit=function(a,b,c){if(p.isFunction(b))b=p.negate(b);else{var d=p.map(j.apply([],i.call(arguments,1)),String);b=function(a,b){return!p.contains(d,b)}}return p.pick(a,b,c)},p.defaults=function(a){if(!p.isObject(a))return a;for(var b=1,c=arguments.length;c>b;b++){var d=arguments[b];for(var e in d)void 0===a[e]&&(a[e]=d[e])}return a},p.clone=function(a){return p.isObject(a)?p.isArray(a)?a.slice():p.extend({},a):a},p.tap=function(a,b){return b(a),a};var v=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof p&&(a=a._wrapped),b instanceof p&&(b=b._wrapped);var e=k.call(a);if(e!==k.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]===a)return d[f]===b;var g=a.constructor,h=b.constructor;if(g!==h&&"constructor"in a&&"constructor"in b&&!(p.isFunction(g)&&g instanceof g&&p.isFunction(h)&&h instanceof h))return!1;c.push(a),d.push(b);var i,j;if("[object Array]"===e){if(i=a.length,j=i===b.length)for(;i--&&(j=v(a[i],b[i],c,d)););}else{var l,m=p.keys(a);if(i=m.length,j=p.keys(b).length===i)for(;i--&&(l=m[i],j=p.has(b,l)&&v(a[l],b[l],c,d)););}return c.pop(),d.pop(),j};p.isEqual=function(a,b){return v(a,b,[],[])},p.isEmpty=function(a){if(null==a)return!0;if(p.isArray(a)||p.isString(a)||p.isArguments(a))return 0===a.length;for(var b in a)if(p.has(a,b))return!1;return!0},p.isElement=function(a){return!(!a||1!==a.nodeType)},p.isArray=m||function(a){return"[object Array]"===k.call(a)},p.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},p.each(["Arguments","Function","String","Number","Date","RegExp"],function(a){p["is"+a]=function(b){return k.call(b)==="[object "+a+"]"}}),p.isArguments(arguments)||(p.isArguments=function(a){return p.has(a,"callee")}),"function"!=typeof/./&&(p.isFunction=function(a){return"function"==typeof a||!1}),p.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},p.isNaN=function(a){return p.isNumber(a)&&a!==+a},p.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===k.call(a)},p.isNull=function(a){return null===a},p.isUndefined=function(a){return void 0===a},p.has=function(a,b){return null!=a&&l.call(a,b)},p.noConflict=function(){return a._=d,this},p.identity=function(a){return a},p.constant=function(a){return function(){return a}},p.noop=function(){},p.property=function(a){return function(b){return b[a]}},p.matches=function(a){var b=p.pairs(a),c=b.length;return function(a){if(null==a)return!c;a=new Object(a);for(var d=0;c>d;d++){var e=b[d],f=e[0];if(e[1]!==a[f]||!(f in a))return!1}return!0}},p.times=function(a,b,c){var d=Array(Math.max(0,a));b=q(b,c,1);for(var e=0;a>e;e++)d[e]=b(e);return d},p.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},p.now=Date.now||function(){return(new Date).getTime()};var w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},x=p.invert(w),y=function(a){var b=function(b){return a[b]},c="(?:"+p.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};p.escape=y(w),p.unescape=y(x),p.result=function(a,b){if(null==a)return void 0;var c=a[b];return p.isFunction(c)?a[b]():c};var z=0;p.uniqueId=function(a){var b=++z+"";return a?a+b:b},p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},C=/\\|'|\r|\n|\u2028|\u2029/g,D=function(a){return"\\"+B[a]};p.template=function(a,b,c){!b&&c&&(b=c),b=p.defaults({},b,p.templateSettings);var d=RegExp([(b.escape||A).source,(b.interpolate||A).source,(b.evaluate||A).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(C,D),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(b.variable||"obj","_",f)}catch(h){throw h.source=f,h}var i=function(a){return g.call(this,a,p)},j=b.variable||"obj";return i.source="function("+j+"){\n"+f+"}",i},p.chain=function(a){var b=p(a);return b._chain=!0,b};var E=function(a){return this._chain?p(a).chain():a};p.mixin=function(a){p.each(p.functions(a),function(b){var c=p[b]=a[b];p.prototype[b]=function(){var a=[this._wrapped];return h.apply(a,arguments),E.call(this,c.apply(p,a))}})},p.mixin(p),p.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=e[a];p.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],E.call(this,c)}}),p.each(["concat","join","slice"],function(a){var b=e[a];p.prototype[a]=function(){return E.call(this,b.apply(this._wrapped,arguments))}}),p.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return p})}).call(this)},{}],25:[function(a,b){"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-rest-collection"]=window.ampersand["ampersand-rest-collection"]||[],window.ampersand["ampersand-rest-collection"].push("2.0.4"));var c=a("ampersand-collection"),d=a("ampersand-collection-underscore-mixin"),e=a("ampersand-collection-rest-mixin");b.exports=c.extend(d,e)},{"ampersand-collection":3,"ampersand-collection-rest-mixin":26,"ampersand-collection-underscore-mixin":42}],26:[function(a,b){"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-collection-rest-mixin"]=window.ampersand["ampersand-collection-rest-mixin"]||[],window.ampersand["ampersand-collection-rest-mixin"].push("3.0.1"));var c=a("ampersand-sync"),d=a("extend-object"),e=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}};b.exports={fetch:function(a){a=a?d({},a):{},void 0===a.parse&&(a.parse=!0);var b=a.success,c=this;return a.success=function(d){var e=a.reset?"reset":"set";c[e](d,a),b&&b(c,d,a),c.trigger("sync",c,d,a)},e(this,a),this.sync("read",this,a)},create:function(a,b){if(b=b?d({},b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,e=b.success;return b.success=function(a,d){b.wait&&c.add(a,b),e&&e(a,d,b)},a.save(null,b),a},sync:function(){return c.apply(this,arguments)},getOrFetch:function(a,b,c){function d(){var b=e.get(a);b?c&&c(null,b):c(new Error("not found"))}3!==arguments.length&&(c=b,b={});var e=this,f=this.get(a);return f?c(null,f):void(b.all?this.fetch({success:d,error:d}):this.fetchById(a,c))},fetchById:function(a,b){var c=this,d={};d[this.model.prototype.idAttribute]=a;var e=new this.model(d,{collection:this});e.fetch({success:function(){c.add(e),b&&b(null,e)},error:function(){delete e.collection,b&&b(Error("not found"))}})}}},{"ampersand-sync":27,"extend-object":41}],27:[function(a,b,c){arguments[4][10][0].apply(c,arguments)},{dup:10,qs:28,underscore:33,xhr:34}],28:[function(a,b,c){arguments[4][11][0].apply(c,arguments)},{"./lib":29,dup:11}],29:[function(a,b,c){arguments[4][12][0].apply(c,arguments)},{"./parse":30,"./stringify":31,dup:12}],30:[function(a,b,c){arguments[4][13][0].apply(c,arguments)},{"./utils":32,dup:13}],31:[function(a,b,c){arguments[4][14][0].apply(c,arguments)},{dup:14}],32:[function(a,b,c){arguments[4][15][0].apply(c,arguments)},{dup:15}],33:[function(a,b,c){arguments[4][16][0].apply(c,arguments)},{dup:16}],34:[function(a,b,c){arguments[4][17][0].apply(c,arguments)},{dup:17,"global/window":35,once:36,"parse-headers":40}],35:[function(a,b,c){arguments[4][18][0].apply(c,arguments)},{dup:18}],36:[function(a,b,c){arguments[4][19][0].apply(c,arguments)},{dup:19}],37:[function(a,b,c){arguments[4][20][0].apply(c,arguments)},{dup:20,"is-function":38}],38:[function(a,b,c){arguments[4][21][0].apply(c,arguments)},{dup:21}],39:[function(a,b,c){arguments[4][22][0].apply(c,arguments)},{dup:22}],40:[function(a,b,c){arguments[4][23][0].apply(c,arguments)},{dup:23,"for-each":37,trim:39}],41:[function(a,b,c){arguments[4][7][0].apply(c,arguments)},{dup:7}],42:[function(a,b){"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-collection-underscore-mixin"]=window.ampersand["ampersand-collection-underscore-mixin"]||[],window.ampersand["ampersand-collection-underscore-mixin"].push("1.0.3"));var c=a("underscore"),d=[].slice,e={},f=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample","partition"];c.each(f,function(a){c[a]&&(e[a]=function(){var b=d.call(arguments);return b.unshift(this.models),c[a].apply(c,b)})});var g=["groupBy","countBy","sortBy","indexBy"];c.each(g,function(a){c[a]&&(e[a]=function(b,d){var e=c.isFunction(b)?b:function(a){return a.get?a.get(b):a[b]};return c[a](this.models,e,d)})}),e.where=function(a,b){return c.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){var c;for(var d in a)if(c=b.get?b.get(d):b[d],a[d]!==c)return!1;return!0})},e.findWhere=function(a){return this.where(a,!0)},e.pluck=function(a){return c.invoke(this.models,"get",a)},b.exports=e},{underscore:43}],43:[function(a,b,c){arguments[4][24][0].apply(c,arguments)},{dup:24}],44:[function(a,b){var c=a("backbone-events-standalone"),d=a("amp-extend"),e=a("amp-bind"),f=function(){this.handlers=[],this.checkUrl=e(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},g=/^[#\/]|\s+$/g,h=/^\/+|\/+$/g,i=/#.*$/;f.started=!1,d(f.prototype,c,{interval:50,atRoot:function(){var a=this.location.pathname.replace(/[^\/]$/,"$&/");return a===this.root&&!this.location.search},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getPath:function(){var a=decodeURI(this.location.pathname+this.location.search),b=this.root.slice(0,-1);return a.indexOf(b)||(a=a.slice(b.length)),a.slice(1)},getFragment:function(a){return null==a&&(a=this._hasPushState||!this._wantsHashChange?this.getPath():this.getHash()),a.replace(g,"")},start:function(a){if(f.started)throw new Error("Backbone.history has already been started");f.started=!0,this.options=d({root:"/"},this.options,a),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState),this.fragment=this.getFragment();var b=window.addEventListener;if(this.root=("/"+this.root+"/").replace(h,"/"),this._hasPushState?b("popstate",this.checkUrl,!1):this._wantsHashChange&&this._hasHashChange?b("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.location.replace(this.root+"#"+this.getPath()),!0;this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}return this.options.silent?void 0:this.loadUrl()},stop:function(){var a=window.removeEventListener;this._hasPushState?a("popstate",this.checkUrl,!1):this._wantsHashChange&&this._hasHashChange&&a("hashchange",this.checkUrl,!1),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),f.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();return a===this.fragment?!1:void this.loadUrl()},loadUrl:function(a){return a=this.fragment=this.getFragment(a),this.handlers.some(function(b){return b.route.test(a)?(b.callback(a),!0):void 0})},navigate:function(a,b){if(!f.started)return!1;b&&b!==!0||(b={trigger:!!b});var c=this.root+(a=this.getFragment(a||""));if(a=decodeURI(a.replace(i,"")),this.fragment!==a){if(this.fragment=a,""===a&&"/"!==c&&(c=c.slice(0,-1)),this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace)}return b.trigger?this.loadUrl(a):void 0}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),b.exports=new f},{"amp-bind":46,"amp-extend":1,"backbone-events-standalone":54}],45:[function(a,b){"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-router"]=window.ampersand["ampersand-router"]||[],window.ampersand["ampersand-router"].push("1.0.7"));var c=a("ampersand-class-extend"),d=a("backbone-events-standalone"),e=a("./ampersand-history"),f=a("amp-extend"),g=a("amp-is-regexp"),h=a("amp-is-function"),i=a("amp-result"),j=b.exports=function(a){a||(a={}),this.history=a.history||e,a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},k=/\((.*?)\)/g,l=/(\(\?)?:\w+/g,m=/\*\w+/g,n=/[\-{}\[\]+?.,\\\^$|#\s]/g;f(j.prototype,d,{initialize:function(){},route:function(a,b,c){g(a)||(a=this._routeToRegExp(a)),h(b)&&(c=b,b=""),c||(c=this[b]);var d=this;return this.history.route(a,function(e){var f=d._extractParameters(a,e);d.execute(c,f,b)!==!1&&(d.trigger.apply(d,["route:"+b].concat(f)),d.trigger("route",b,f),d.history.trigger("route",d,b,f))}),this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,b){return this.history.navigate(a,b),this},redirectTo:function(a){this.navigate(a,{replace:!0,trigger:!0})},_bindRoutes:function(){if(this.routes){this.routes=i(this,"routes");for(var a,b=Object.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(n,"\\$&").replace(k,"(?:$1)?").replace(l,function(a,b){return b?a:"([^/?]+)"}).replace(m,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return c.map(function(a,b){return b===c.length-1?a||null:a?decodeURIComponent(a):null})}}),j.extend=c},{"./ampersand-history":44,"amp-extend":1,"amp-is-function":48,"amp-is-regexp":49,"amp-result":50,"ampersand-class-extend":51,"backbone-events-standalone":54}],46:[function(a,b){var c=a("amp-is-function"),d=a("amp-is-object"),e=Function.prototype.bind,f=Array.prototype.slice,g=function(){};b.exports=function(a,b){var h,i;if(e&&a.bind===e)return e.apply(a,f.call(arguments,1));if(!c(a))throw new TypeError("Bind must be called on a function");return h=f.call(arguments,2),i=function(){if(!(this instanceof i))return a.apply(b,h.concat(f.call(arguments)));g.prototype=a.prototype;var c=new g;g.prototype=null;var e=a.apply(c,h.concat(f.call(arguments)));return d(e)?e:c}}},{"amp-is-function":48,"amp-is-object":47}],47:[function(a,b,c){arguments[4][2][0].apply(c,arguments)},{dup:2}],48:[function(a,b){var c=Object.prototype.toString,d=function(a){return"[object Function]"===c.call(a)};"function"!=typeof/./&&(d=function(a){return"function"==typeof a||!1}),b.exports=d},{}],49:[function(a,b){var c=Object.prototype.toString;b.exports=function(a){return"[object RegExp]"===c.call(a)}},{}],50:[function(a,b){var c=a("amp-is-function");b.exports=function(a,b,d){var e=null==a?void 0:a[b];return void 0===e?c(d)?d():d:c(e)?a[b]():e}},{"amp-is-function":48}],51:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4,"extend-object":52}],52:[function(a,b,c){arguments[4][7][0].apply(c,arguments)},{dup:7}],53:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{dup:5}],54:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{"./backbone-events-standalone":53,dup:6}],55:[function(a,b){function c(a,b){b||(b={}),this.cid||(this.cid=g.uniqueId("state")),this._events={},this._values={},this._definition=Object.create(this._definition),b.parse&&(a=this.parse(a,b)),this.parent=b.parent,this.collection=b.collection,this._keyTree=new i,this._initCollections(),this._initChildren(),this._cache={},this._previousAttributes={},a&&this.set(a,g.extend({silent:!0,initial:!0},b)),this._changed={},this._derived&&this._initDerived(),b.init!==!1&&this.initialize.apply(this,arguments)}function d(a,b,c,d){var e,f,h=a._definition[b]={};if(g.isString(c))e=a._ensureValidType(c),e&&(h.type=e);else{if(g.isArray(c)&&(f=c,c={type:f[0],required:f[1],"default":f[2]}),e=a._ensureValidType(c.type),e&&(h.type=e),c.required&&(h.required=!0),c["default"]&&"object"==typeof c["default"])throw new TypeError("The default value for "+b+" cannot be an object/array, must be a value or a function which returns a value/object/array");h["default"]=c["default"],h.allowNull=c.allowNull?c.allowNull:!1,c.setOnce&&(h.setOnce=!0),h.required&&g.isUndefined(h["default"])&&!h.setOnce&&(h["default"]=a._getDefaultForType(e)),h.test=c.test,h.values=c.values}return d&&(h.session=!0),Object.defineProperty(a,b,{set:function(a){this.set(b,a)},get:function(){var a=this._values[b],c=this._dataTypes[h.type];return"undefined"!=typeof a?(c&&c.get&&(a=c.get(a)),a):(a=g.result(h,"default"),this._values[b]=a,a)}}),h}function e(a,b,c){var d=a._derived[b]={fn:g.isFunction(c)?c:c.fn,cache:c.cache!==!1,depList:c.deps||[]};g.each(d.depList,function(c){a._deps[c]=g(a._deps[c]||[]).union([b])}),Object.defineProperty(a,b,{get:function(){return this._getDerivedProperty(b)},set:function(){throw new TypeError('"'+b+"\" is a derived property, it can't be set directly.")}})}function f(a){var b,c=this,f=[].slice.call(arguments);b=a&&a.hasOwnProperty("constructor")?a.constructor:function(){return c.apply(this,arguments)},g.extend(b,c);var h=function(){this.constructor=b};h.prototype=c.prototype,b.prototype=new h,b.prototype._derived=g.extend({},c.prototype._derived),b.prototype._deps=g.extend({},c.prototype._deps),b.prototype._definition=g.extend({},c.prototype._definition),b.prototype._collections=g.extend({},c.prototype._collections),b.prototype._children=g.extend({},c.prototype._children),b.prototype._dataTypes=g.extend({},c.prototype._dataTypes||l),a&&f.forEach(function(a){var c=["dataTypes","props","session","derived","collections","children"];a.dataTypes&&g.each(a.dataTypes,function(a,c){b.prototype._dataTypes[c]=a}),a.props&&g.each(a.props,function(a,c){d(b.prototype,c,a)}),a.session&&g.each(a.session,function(a,c){d(b.prototype,c,a,!0)}),a.derived&&g.each(a.derived,function(a,c){e(b.prototype,c,a)}),a.collections&&g.each(a.collections,function(a,c){b.prototype._collections[c]=a}),a.children&&g.each(a.children,function(a,c){b.prototype._children[c]=a}),g.extend(b.prototype,g.omit(a,c))});Object.prototype.toString;return b.__super__=c.prototype,b}"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-state"]=window.ampersand["ampersand-state"]||[],window.ampersand["ampersand-state"].push("4.4.4"));var g=a("underscore"),h=a("backbone-events-standalone"),i=a("key-tree-store"),j=a("array-next"),k=/^change:/;g.extend(c.prototype,h,{extraProperties:"ignore",idAttribute:"id",namespaceAttribute:"namespace",typeAttribute:"modelType",initialize:function(){return this},getId:function(){return this[this.idAttribute]},getNamespace:function(){return this[this.namespaceAttribute]},getType:function(){return this[this.typeAttribute]},isNew:function(){return null==this.getId()},escape:function(a){return g.escape(this.get(a))},isValid:function(a){return this._validate({},g.extend(a||{},{validate:!0}))},parse:function(a){return a},serialize:function(){var a=this.getAttributes({props:!0},!0);return g.each(this._children,function(b,c){a[c]=this[c].serialize()},this),g.each(this._collections,function(b,c){a[c]=this[c].serialize()},this),a},set:function(a,b,c){var d,e,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u=this,v=this.extraProperties;if(g.isObject(a)||null===a?(m=a,c=b):(m={},m[a]=b),c=c||{},!this._validate(m,c))return!1;
p=c.unset,o=c.silent,r=c.initial,e=[],d=this._changing,this._changing=!0,d||(this._previousAttributes=this.attributes,this._changed={});for(l in m){if(h=m[l],f=typeof h,q=this._values[l],i=this._definition[l],!i){if(this._children[l]||this._collections[l]){this[l].set(h,c);continue}if("ignore"===v)continue;if("reject"===v)throw new TypeError('No "'+l+'" property defined on '+(this.type||"this")+' model and extraProperties not set to "ignore" or "allow"');if("allow"===v)i=this._createPropertyDefinition(l,"any");else if(v)throw new TypeError('Invalid value for extraProperties: "'+v+'"')}if(t=this._getCompareForType(i.type),n=this._dataTypes[i.type],n&&n.set&&(j=n.set(h),h=j.val,f=j.type),i.test&&(k=i.test.call(this,h,f)))throw new TypeError("Property '"+l+"' failed validation with error: "+k);if(g.isUndefined(h)&&i.required)throw new TypeError("Required property '"+l+"' must be of type "+i.type+". Tried to set "+h);if(g.isNull(h)&&i.required&&!i.allowNull)throw new TypeError("Property '"+l+"' must be of type "+i.type+" (cannot be null). Tried to set "+h);if(i.type&&"any"!==i.type&&i.type!==f&&!g.isNull(h)&&!g.isUndefined(h))throw new TypeError("Property '"+l+"' must be of type "+i.type+". Tried to set "+h);if(i.values&&!g.contains(i.values,h))throw new TypeError("Property '"+l+"' must be one of values: "+i.values.join(", ")+". Tried to set "+h);if(s=!t(q,h,l),i.setOnce&&void 0!==q&&s&&!r)throw new TypeError("Property '"+l+"' can only be set once.");s?(e.push({prev:q,val:h,key:l}),u._changed[l]=h):delete u._changed[l]}if(g.each(e,function(a){u._previousAttributes[a.key]=a.prev,p?delete u._values[a.key]:u._values[a.key]=a.val}),!o&&e.length&&(u._pending=!0),o||g.each(e,function(a){u.trigger("change:"+a.key,u,a.val,c)}),d)return this;if(!o)for(;this._pending;)this._pending=!1,this.trigger("change",this,c);return this._pending=!1,this._changing=!1,this},get:function(a){return this[a]},toggle:function(a){var b=this._definition[a];if("boolean"===b.type)this[a]=!this[a];else{if(!b||!b.values)throw new TypeError("Can only toggle properties that are type `boolean` or have `values` array.");this[a]=j(b.values,this[a])}return this},previousAttributes:function(){return g.clone(this._previousAttributes)},hasChanged:function(a){return null==a?!g.isEmpty(this._changed):g.has(this._changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?g.clone(this._changed):!1;var b,c,d,e=!1,f=this._changing?this._previousAttributes:this.attributes;for(var h in a)c=this._definition[h],c&&(d=this._getCompareForType(c.type),d(f[h],b=a[h])||((e||(e={}))[h]=b));return e},toJSON:function(){return this.serialize()},unset:function(a,b){{var c,d=this._definition[a];d.type}return d.required?(c=g.result(d,"default"),this.set(a,c,b)):this.set(a,c,g.extend({},b,{unset:!0}))},clear:function(a){var b=this;return g.each(g.keys(this.attributes),function(c){b.unset(c,a)}),this},previous:function(a){return null!=a&&Object.keys(this._previousAttributes).length?this._previousAttributes[a]:null},_getDefaultForType:function(a){var b=this._dataTypes[a];return b&&b["default"]},_getCompareForType:function(a){var b=this._dataTypes[a];return b&&b.compare?g.bind(b.compare,this):g.isEqual},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=g.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;return c?(this.trigger("invalid",this,c,g.extend(b||{},{validationError:c})),!1):!0},_createPropertyDefinition:function(a,b,c){return d(this,a,b,c)},_ensureValidType:function(a){return g.contains(["string","number","boolean","array","object","date","any"].concat(g.keys(this._dataTypes)),a)?a:void 0},getAttributes:function(a,b){a||(a={}),g.defaults(a,{session:!1,props:!1,derived:!1});var c,d,e,f={};for(d in this._definition)e=this._definition[d],(a.session&&e.session||a.props&&!e.session)&&(c=b?this._values[d]:this[d],"undefined"==typeof c&&(c=g.result(e,"default")),"undefined"!=typeof c&&(f[d]=c));if(a.derived)for(d in this._derived)f[d]=this[d];return f},_initDerived:function(){var a=this;g.each(this._derived,function(b,c){var d=a._derived[c];d.deps=d.depList;var e=function(b){b=b||{};var e=d.fn.call(a);a._cache[c]===e&&d.cache||(d.cache&&(a._previousAttributes[c]=a._cache[c]),a._cache[c]=e,a.trigger("change:"+c,a,a._cache[c]))};d.deps.forEach(function(b){a._keyTree.add(b,e)})}),this.on("all",function(b){k.test(b)&&a._keyTree.get(b.split(":")[1]).forEach(function(a){a()})},this)},_getDerivedProperty:function(a,b){return this._derived[a].cache?((b||!this._cache.hasOwnProperty(a))&&(this._cache[a]=this._derived[a].fn.apply(this)),this._cache[a]):this._derived[a].fn.apply(this)},_initCollections:function(){var a;if(this._collections)for(a in this._collections)this[a]=new this._collections[a](null,{parent:this})},_initChildren:function(){var a;if(this._children)for(a in this._children)this[a]=new this._children[a]({},{parent:this}),this.listenTo(this[a],"all",this._getEventBubblingHandler(a))},_getEventBubblingHandler:function(a){return g.bind(function(b,c,d){k.test(b)?this.trigger("change:"+a+"."+b.split(":")[1],c,d):"change"===b&&this.trigger("change",this)},this)},_verifyRequired:function(){var a=this.attributes;for(var b in this._definition)if(this._definition[b].required&&"undefined"==typeof a[b])return!1;return!0}}),Object.defineProperties(c.prototype,{attributes:{get:function(){return this.getAttributes({props:!0,session:!0})}},all:{get:function(){return this.getAttributes({session:!0,props:!0,derived:!0})}},isState:{get:function(){return!0},set:function(){}}});var l={string:{"default":function(){return""}},date:{set:function(a){var b;if(g.isDate(a))b="date",a=a.valueOf();else try{var c=new Date(a).valueOf();if(isNaN(c)&&(c=new Date(parseInt(a,10)).valueOf(),isNaN(c)))throw TypeError;a=c,b="date"}catch(d){b=typeof a}return{val:a,type:b}},get:function(a){return new Date(a)},"default":function(){return new Date}},array:{set:function(a){return{val:a,type:g.isArray(a)?"array":typeof a}},"default":function(){return[]}},object:{set:function(a){var b=typeof a;return"object"!==b&&g.isUndefined(a)&&(a=null,b="object"),{val:a,type:b}},"default":function(){return{}}},state:{set:function(a){var b=a instanceof c||a&&a.isState;return b?{val:a,type:"state"}:{val:a,type:typeof a}},compare:function(a,b,c){var d=a===b;return d||(a&&this.stopListening(a),null!=b&&this.listenTo(b,"all",this._getEventBubblingHandler(c))),d}}};c.extend=f,b.exports=c},{"array-next":56,"backbone-events-standalone":58,"key-tree-store":59,underscore:60}],56:[function(a,b){b.exports=function(a,b){var c=a.length,d=a.indexOf(b)+1;return d>c-1&&(d=0),a[d]}},{}],57:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{dup:5}],58:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{"./backbone-events-standalone":57,dup:6}],59:[function(a,b){function c(){this.storage={}}c.prototype.add=function(a,b){var c=this.storage[a]||(this.storage[a]=[]);c.push(b)},c.prototype.remove=function(a){var b,c;for(b in this.storage)c=this.storage[b],c.some(function(b,d){return b===a?(c.splice(d,1),!0):void 0})},c.prototype.get=function(a){var b,c=[];for(b in this.storage)(a===b||0===b.indexOf(a+"."))&&(c=c.concat(this.storage[b]));return c},b.exports=c},{}],60:[function(a,b,c){arguments[4][24][0].apply(c,arguments)},{dup:24}],61:[function(a,b){function c(a){this.cid=g.uniqueId("view"),a||(a={});var b=a.parent;delete a.parent,l.call(this,a,{init:!1,parent:b}),this.on("change:el",this._handleElementChange,this),this._parsedBindings=j(this.bindings,this),this._initializeBindings(),a.el&&!this.autoRender&&this._handleElementChange(),this._initializeSubviews(),this.template=a.template||this.template,this.initialize.apply(this,arguments),this.set(g.pick(a,m)),this.autoRender&&this.template&&this.render()}"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-view"]=window.ampersand["ampersand-view"]||[],window.ampersand["ampersand-view"].push("7.2.0"));var d=a("ampersand-state"),e=a("ampersand-collection-view"),f=a("domify"),g=a("underscore"),h=a("events-mixin"),i=a("matches-selector"),j=a("ampersand-dom-bindings"),k=a("get-object-path"),l=d.extend({dataTypes:{element:{set:function(a){return{val:a,type:a instanceof Element?"element":typeof a}},compare:function(a,b){return a===b}},collection:{set:function(a){return{val:a,type:a&&a.isCollection?"collection":typeof a}},compare:function(a,b){return a===b}}},props:{model:"state",el:"element",collection:"collection"},derived:{rendered:{deps:["el"],fn:function(){return!!this.el}},hasData:{deps:["model"],fn:function(){return!!this.model}}}}),m=["model","collection","el"];c.prototype=Object.create(l.prototype),g.extend(c.prototype,{query:function(a){return a?"string"==typeof a?i(this.el,a)?this.el:this.el.querySelector(a)||void 0:a:this.el},queryAll:function(a){var b=[];return this.el?""===a?[this.el]:(i(this.el,a)&&b.push(this.el),b.concat(Array.prototype.slice.call(this.el.querySelectorAll(a)))):b},queryByHook:function(a){return this.query('[data-hook~="'+a+'"]')},initialize:function(){},render:function(){return this.renderWithTemplate(this),this},remove:function(){var a=this._parsedBindings;return this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this._subviews&&g.chain(this._subviews).flatten().invoke("remove"),this.stopListening(),g.each(a,function(b,c){g.each(b,function(b,d){delete a[c][d]}),delete a[c]}),this.trigger("remove",this),this},_handleElementChange:function(){return this.eventManager&&this.eventManager.unbind(),this.eventManager=h(this.el,this),this.delegateEvents(),this._applyBindingsForKey(),this},delegateEvents:function(a){if(!a&&!(a=g.result(this,"events")))return this;this.undelegateEvents();for(var b in a)this.eventManager.bind(b,a[b]);return this},undelegateEvents:function(){return this.eventManager.unbind(),this},registerSubview:function(a){return this._subviews||(this._subviews=[]),this._subviews.push(a),a.el&&(a.parent=this),a},renderSubview:function(a,b){return"string"==typeof b&&(b=this.query(b)),this.registerSubview(a),a.render(),(b||this.el).appendChild(a.el),a},_applyBindingsForKey:function(a){if(this.el){var b,c=this._parsedBindings.getGrouped(a);for(b in c)c[b].forEach(function(a){a(this.el,k(this,b),g.last(b.split(".")))},this)}},_initializeBindings:function(){this.bindings&&this.on("all",function(a){"change:"===a.slice(0,7)&&this._applyBindingsForKey(a.split(":")[1])},this)},_initializeSubviews:function(){if(this.subviews)for(var a in this.subviews)this._parseSubview(this.subviews[a],a)},_parseSubview:function(a,b){function c(){var a,d;this.el&&(a=this.query(e.selector))&&(!e.waitFor||k(this,e.waitFor))&&(d=this[b]=e.prepareView.call(this,a),d.render(),this.registerSubview(d),this.off("change",c))}var d=this,e={selector:a.container||'[data-hook="'+a.hook+'"]',waitFor:a.waitFor||"",prepareView:a.prepareView||function(b){return new a.constructor({el:b,parent:d})}};this.on("change",c,this)},renderWithTemplate:function(a,b){var c=b||this.template;if(!c)throw new Error("Template string or function needed.");var d=g.isString(c)?c:c.call(this,a||this);g.isString(d)&&(d=f(d));var e=this.el&&this.el.parentNode;if(e&&e.replaceChild(d,this.el),"#document-fragment"===d.nodeName)throw new Error("Views can only have one root element.");return this.el=d,this},cacheElements:function(a){for(var b in a)this[b]=this.query(a[b])},listenToAndRun:function(a,b,c){var d=g.bind(c,this);this.listenTo(a,b,d),d()},animateRemove:function(){this.remove()},renderCollection:function(a,b,c,d){var f="string"==typeof c?this.query(c):c,h=g.extend({collection:a,el:f||this.el,view:b,parent:this,viewOptions:{parent:this}},d),i=new e(h);return i.render(),this.registerSubview(i)}}),c.extend=l.extend,b.exports=c},{"ampersand-collection-view":62,"ampersand-dom-bindings":65,"ampersand-state":55,domify:68,"events-mixin":69,"get-object-path":74,"matches-selector":75,underscore:76}],62:[function(a,b){function c(a){if(!a)throw new ReferenceError("Collection view missing required parameters: collection, el");if(!a.collection)throw new ReferenceError("Collection view requires a collection");if(!a.el&&!this.insertSelf)throw new ReferenceError("Collection view requires an el");d.extend(this,d.pick(a,g)),this.views=[],this.listenTo(this.collection,"add",this._addViewForModel),this.listenTo(this.collection,"remove",this._removeViewForModel),this.listenTo(this.collection,"sort",this._rerenderAll),this.listenTo(this.collection,"refresh reset",this._reset)}"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-collection-view"]=window.ampersand["ampersand-collection-view"]||[],window.ampersand["ampersand-collection-view"].push("1.2.1"));var d=a("underscore"),e=a("backbone-events-standalone"),f=a("ampersand-class-extend"),g=["collection","el","viewOptions","view","emptyView","filter","reverse","parent"];d.extend(c.prototype,e,{render:function(){return this._renderAll(),this},remove:function(){d.invoke(this.views,"remove"),this.stopListening()},_getViewByModel:function(a){return d.find(this.views,function(b){return a===b.model})},_createViewForModel:function(a,b){var c=new this.view(d({model:a,collection:this.collection}).extend(this.viewOptions));return this.views.push(c),c.parent=this,c.renderedByParentView=!0,c.render(b),c},_getOrCreateByModel:function(a,b){return this._getViewByModel(a)||this._createViewForModel(a,b)},_addViewForModel:function(a,b,c){var d=this.filter?this.filter(a):!0;if(d){this.renderedEmptyView&&(this.renderedEmptyView.remove(),delete this.renderedEmptyView);var e=this._getOrCreateByModel(a,{containerEl:this.el});c&&c.rerender?this._insertView(e):this._insertViewAtIndex(e)}},_insertViewAtIndex:function(a){if(!a.insertSelf){var b,c,d=this.collection.indexOf(a.model);b=this.collection.at(this.reverse?d-1:d+1),c=this._getViewByModel(b),c?this.el.insertBefore(a.el,c&&c.el):this.el.appendChild(a.el)}},_insertView:function(a){a.insertSelf||(this.reverse&&this.el.firstChild?this.el.insertBefore(a.el,this.el.firstChild):this.el.appendChild(a.el))},_removeViewForModel:function(a){var b=this._getViewByModel(a);if(b){var c=this.views.indexOf(b);-1!==c&&(b=this.views.splice(c,1)[0],this._removeView(b),0===this.views.length&&this._renderEmptyView())}},_removeView:function(a){a.animateRemove?a.animateRemove():a.remove()},_renderAll:function(){this.collection.each(this._addViewForModel,this),0===this.views.length&&this._renderEmptyView()},_rerenderAll:function(a,b){b=b||{},this.collection.each(function(a){this._addViewForModel(a,this,d.extend(b,{rerender:!0}))},this)},_renderEmptyView:function(){if(this.emptyView&&!this.renderedEmptyView){var a=this.renderedEmptyView=new this.emptyView;this.el.appendChild(a.render().el)}},_reset:function(){var a=this.collection.map(this._getOrCreateByModel,this),b=d.difference(this.views,a);b.forEach(this._removeView,this),this.views=a,this._rerenderAll(),0===this.views.length&&this._renderEmptyView()}}),c.extend=f,b.exports=c},{"ampersand-class-extend":63,"backbone-events-standalone":78,underscore:76}],63:[function(a,b,c){arguments[4][4][0].apply(c,arguments)},{dup:4,"extend-object":64}],64:[function(a,b,c){arguments[4][7][0].apply(c,arguments)},{dup:7}],65:[function(a,b){function c(a,b){if(""===b)return[a];var c=[];return h(a,b)&&c.push(a),c.concat(i.call(a.querySelectorAll(b)))}function d(a){return Array.isArray(a)?a:[a]}function e(a,b){var e,f=a.type||"text",h="function"==typeof f,i=function(){return"string"==typeof a.selector?a.selector:a.hook?'[data-hook~="'+a.hook+'"]':""}(),j=a.yes,k=a.no,l=!(!j&&!k);if(h)return function(a,d){c(a,i).forEach(function(a){f.call(b,a,d,e)}),e=d};if("text"===f)return function(a,b){c(a,i).forEach(function(a){g.text(a,b)})};if("class"===f)return function(a,b){c(a,i).forEach(function(a){g.switchClass(a,e,b)}),e=b};if("attribute"===f){if(!a.name)throw Error('attribute bindings must have a "name"');return function(b,f){var h=d(a.name);c(b,i).forEach(function(a){h.forEach(function(b){g.setAttribute(a,b,f)})}),e=f}}if("value"===f)return function(a,b){c(a,i).forEach(function(a){b||0===b||(b=""),document.activeElement!==a&&(a.value=b)}),e=b};if("booleanClass"===f)return l?(j=d(j||""),k=d(k||""),function(a,b){var d=b?k:j,e=b?j:k;c(a,i).forEach(function(a){d.forEach(function(b){g.removeClass(a,b)}),e.forEach(function(b){g.addClass(a,b)})})}):function(b,e,f){var h=d(a.name||f);c(b,i).forEach(function(a){h.forEach(function(b){g[e?"addClass":"removeClass"](a,b)})})};if("booleanAttribute"===f)return function(b,e,f){var h=d(a.name||f);c(b,i).forEach(function(a){h.forEach(function(b){g[e?"addAttribute":"removeAttribute"](a,b)})})};if("toggle"===f)return l?function(a,b){c(a,j).forEach(function(a){g[b?"show":"hide"](a)}),c(a,k).forEach(function(a){g[b?"hide":"show"](a)})}:function(a,b){c(a,i).forEach(function(a){g[b?"show":"hide"](a)})};if("switch"===f){if(!a.cases)throw Error('switch bindings must have "cases"');return function(b,d){for(var e in a.cases)c(b,a.cases[e]).forEach(function(a){g[d===e?"show":"hide"](a)})}}if("innerHTML"===f)return function(a,b){c(a,i).forEach(function(a){g.html(a,b)})};if("switchClass"===f){if(!a.cases)throw Error('switchClass bindings must have "cases"');return function(b,e,f){var h=d(a.name||f);for(var i in a.cases)c(b,a.cases[i]).forEach(function(a){h.forEach(function(b){g[e===i?"addClass":"removeClass"](a,b)})})}}throw new Error("no such binding type: "+f)}"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-dom-bindings"]=window.ampersand["ampersand-dom-bindings"]||[],window.ampersand["ampersand-dom-bindings"].push("3.3.3"));var f=a("key-tree-store"),g=a("ampersand-dom"),h=a("matches-selector");b.exports=function(a,b){var c,d,g=new f;for(c in a)d=a[c],"string"==typeof d?g.add(c,e({type:"text",selector:d})):d.forEach?d.forEach(function(a){g.add(c,e(a,b))}):g.add(c,e(d,b));return g};var i=Array.prototype.slice},{"ampersand-dom":66,"key-tree-store":67,"matches-selector":75}],66:[function(a,b){function c(a){return a||0===a?a:""}function d(a,b){return a.classList?a.classList.contains(b):new RegExp("(^| )"+b+"( |$)","gi").test(a.className)}function e(a,b){var c=a[b];return b in a&&(c===!0||c===!1)}function f(a){return"true"===j.getAttribute(a,"data-anddom-hidden")}function g(a){j.setAttribute(a,"data-anddom-display",a.style.display)}function h(a){a.style.display=j.getAttribute(a,"data-anddom-display")||"",j.removeAttribute(a,"data-anddom-hidden")}function i(a){j.setAttribute(a,"data-anddom-hidden","true"),a.style.display="none"}"undefined"!=typeof window&&(window.ampersand=window.ampersand||{},window.ampersand["ampersand-dom"]=window.ampersand["ampersand-dom"]||[],window.ampersand["ampersand-dom"].push("1.2.7"));var j=b.exports={text:function(a,b){a.textContent=c(b)},addClass:function(a,b){b=c(b),b&&(Array.isArray(b)?b.forEach(function(b){j.addClass(a,b)}):a.classList?a.classList.add(b):d(a,b)||(a.classList?a.classList.add(b):a.className+=" "+b))},removeClass:function(a,b){Array.isArray(b)?b.forEach(function(b){j.removeClass(a,b)}):a.classList?(b=c(b),b&&a.classList.remove(b)):a.className=a.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," ")},hasClass:d,switchClass:function(a,b,c){b&&this.removeClass(a,b),this.addClass(a,c)},addAttribute:function(a,b){a.setAttribute(b,""),e(a,b)&&(a[b]=!0)},removeAttribute:function(a,b){a.removeAttribute(b),e(a,b)&&(a[b]=!1)},setAttribute:function(a,b,d){a.setAttribute(b,c(d))},getAttribute:function(a,b){return a.getAttribute(b)},hide:function(a){f(a)||(g(a),i(a))},show:function(a){h(a)},html:function(a,b){a.innerHTML=b}}},{}],67:[function(a,b){function c(){this.storage={}}var d=Array.prototype.slice;c.prototype.add=function(a,b){var c=this.storage[a]||(this.storage[a]=[]);c.push(b)},c.prototype.remove=function(a){var b,c;for(b in this.storage)c=this.storage[b],c.some(function(b,d){return b===a?(c.splice(d,1),!0):void 0})},c.prototype.get=function(a){var b,c=[];for(b in this.storage)a&&a!==b&&0!==b.indexOf(a+".")||(c=c.concat(this.storage[b]));return c},c.prototype.getGrouped=function(a){var b,c={};for(b in this.storage)a&&a!==b&&0!==b.indexOf(a+".")||(c[b]=d.call(this.storage[b]));return c},c.prototype.getAll=function(a){var b,c={};for(b in this.storage)(a===b||0===b.indexOf(a+"."))&&(c[b]=d.call(this.storage[b]));return c},c.prototype.run=function(a,b){var c=d.call(arguments,2);this.get(a).forEach(function(a){a.apply(b||this,c)})},b.exports=c},{}],68:[function(a,b){function c(a,b){if("string"!=typeof a)throw new TypeError("String expected");b||(b=document);var c=/<([\w:]+)/.exec(a);if(!c)return b.createTextNode(a);a=a.replace(/^\s+|\s+$/g,"");var d=c[1];if("body"==d){var e=b.createElement("html");return e.innerHTML=a,e.removeChild(e.lastChild)}var g=f[d]||f._default,h=g[0],i=g[1],j=g[2],e=b.createElement("div");for(e.innerHTML=i+a+j;h--;)e=e.lastChild;if(e.firstChild==e.lastChild)return e.removeChild(e.firstChild);for(var k=b.createDocumentFragment();e.firstChild;)k.appendChild(e.removeChild(e.firstChild));return k}b.exports=c;var d=document.createElement("div");d.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>';var e=!d.getElementsByTagName("link").length;d=void 0;var f={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:e?[1,"X<div>","</div>"]:[0,"",""]};f.td=f.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],f.option=f.optgroup=[1,'<select multiple="multiple">',"</select>"],f.thead=f.tbody=f.colgroup=f.caption=f.tfoot=[1,"<table>","</table>"],f.text=f.circle=f.ellipse=f.line=f.path=f.polygon=f.polyline=f.rect=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],69:[function(a,b){function c(a,b){if(!(this instanceof c))return new c(a,b);if(!a)throw new Error("element required");if(!b)throw new Error("object required");this.el=a,this.obj=b,this._events={}}function d(a){var b=a.split(/ +/);return{name:b.shift(),selector:b.join(" ")}}var e=a("component-event"),f=a("delegate-events"),g=["focus","blur"];b.exports=c,c.prototype.sub=function(a,b,c){this._events[a]=this._events[a]||{},this._events[a][b]=c},c.prototype.bind=function(a,b){function c(){var a=[].slice.call(arguments).concat(k);i[b].apply(i,a)}var g=d(a),h=this.el,i=this.obj,j=g.name,b=b||"on"+j,k=[].slice.call(arguments,2);return g.selector?c=f.bind(h,g.selector,j,c):e.bind(h,j,c),this.sub(j,b,c),c},c.prototype.unbind=function(a,b){if(0==arguments.length)return this.unbindAll();if(1==arguments.length)return this.unbindAllOf(a);var c=this._events[a],d=-1!==g.indexOf(a);if(c){var f=c[b];f&&e.unbind(this.el,a,f,d)}},c.prototype.unbindAll=function(){for(var a in this._events)this.unbindAllOf(a)},c.prototype.unbindAllOf=function(a){var b=this._events[a];if(b)for(var c in b)this.unbind(a,c)}},{"component-event":70,"delegate-events":71}],70:[function(a,b,c){var d=window.addEventListener?"addEventListener":"attachEvent",e=window.removeEventListener?"removeEventListener":"detachEvent",f="addEventListener"!==d?"on":"";c.bind=function(a,b,c,e){return a[d](f+b,c,e||!1),c},c.unbind=function(a,b,c,d){return a[e](f+b,c,d||!1),c}},{}],71:[function(a,b,c){var d=a("closest"),e=a("event"),f=["focus","blur"];c.bind=function(a,b,c,g,h){return-1!==f.indexOf(c)&&(h=!0),e.bind(a,c,function(c){var e=c.target||c.srcElement;c.delegateTarget=d(e,b,!0,a),c.delegateTarget&&g.call(a,c)},h)},c.unbind=function(a,b,c,d){-1!==f.indexOf(b)&&(d=!0),e.unbind(a,b,c,d)}},{closest:72,event:70}],72:[function(a,b){var c=a("matches-selector");b.exports=function(a,b,d){for(var e=d?a:a.parentNode;e&&e!==document;){if(c(e,b))return e;e=e.parentNode}}},{"matches-selector":73}],73:[function(a,b){function c(a,b){if(e)return e.call(a,b);for(var c=a.parentNode.querySelectorAll(b),d=0;d<c.length;++d)if(c[d]==a)return!0;return!1}var d=Element.prototype,e=d.matchesSelector||d.webkitMatchesSelector||d.mozMatchesSelector||d.msMatchesSelector||d.oMatchesSelector;b.exports=c},{}],74:[function(a,b){function c(a,b){if(-1==b.indexOf(".")&&-1==b.indexOf("["))return a[b];for(var c,d=b.split(/\.|\[|\]/g),e=-1,f=d.length;++e<f;)if(0==e&&(c=a),d[e]){if(void 0==c)break;c=c[d[e]]}return c}b.exports=c},{}],75:[function(a,b){"use strict";function c(a,b){if(e)return e.call(a,b);for(var c=a.parentNode.querySelectorAll(b),d=0;d<c.length;d++)if(c[d]==a)return!0;return!1}var d=Element.prototype,e=d.matches||d.matchesSelector||d.webkitMatchesSelector||d.mozMatchesSelector||d.msMatchesSelector||d.oMatchesSelector;b.exports=c},{}],76:[function(a,b,c){arguments[4][16][0].apply(c,arguments)},{dup:16}],77:[function(a,b,c){!function(){function a(){return{keys:Object.keys||function(a){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("keys() called on a non-object");var b,c=[];for(b in a)a.hasOwnProperty(b)&&(c[c.length]=b);return c},uniqueId:function(a){var b=++j+"";return a?a+b:b},has:function(a,b){return h.call(a,b)},each:function(a,b,c){if(null!=a)if(g&&a.forEach===g)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,e=a.length;e>d;d++)if(b.call(c,a[d],d,a)===f)return}else for(var h in a)if(this.has(a,h)&&b.call(c,a[h],h,a)===f)return},once:function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}}}}var d,e=this,f={},g=Array.prototype.forEach,h=Object.prototype.hasOwnProperty,i=Array.prototype.slice,j=0,k=a();d={on:function(a,b,c){if(!m(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,c){if(!m(this,"once",a,[b,c])||!b)return this;var d=this,e=k.once(function(){d.off(a,e),b.apply(this,arguments)});return e._callback=b,this.on(a,e,c)},off:function(a,b,c){var d,e,f,g,h,i,j,l;if(!this._events||!m(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;for(g=a?[a]:k.keys(this._events),h=0,i=g.length;i>h;h++)if(a=g[h],f=this._events[a]){if(this._events[a]=d=[],b||c)for(j=0,l=f.length;l>j;j++)e=f[j],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=i.call(arguments,1);if(!m(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&n(c,b),d&&n(d,arguments),this},stopListening:function(a,b,c){var d=this._listeners;if(!d)return this;var e=!b&&!c;"object"==typeof b&&(c=this),a&&((d={})[a._listenerId]=a);for(var f in d)d[f].off(b,c,this),e&&delete this._listeners[f];return this}};var l=/\s+/,m=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(l.test(c)){for(var f=c.split(l),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},n=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}},o={listenTo:"on",listenToOnce:"once"};k.each(o,function(a,b){d[b]=function(b,c,d){var e=this._listeners||(this._listeners={}),f=b._listenerId||(b._listenerId=k.uniqueId("l"));return e[f]=b,"object"==typeof c&&(d=this),b[a](c,d,this),this}}),d.bind=d.on,d.unbind=d.off,d.mixin=function(a){var b=["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"];return k.each(b,function(b){a[b]=this[b]},this),a},"function"==typeof define?define(function(){return d}):"undefined"!=typeof c?("undefined"!=typeof b&&b.exports&&(c=b.exports=d),c.BackboneEvents=d):e.BackboneEvents=d}(this)},{}],78:[function(a,b,c){arguments[4][6][0].apply(c,arguments)},{"./backbone-events-standalone":77,dup:6}],79:[function(a,b,c){(function(){function a(a,b){if(a!==b){var c=a===a,d=b===b;if(a>b||!c||"undefined"==typeof a&&d)return 1;if(b>a||!d||"undefined"==typeof b&&c)return-1}return 0}function d(a,b,c){if(b!==b)return o(a,c);for(var d=(c||0)-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function e(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function f(a){return"string"==typeof a?a:null==a?"":a+""}function g(a){return a.charCodeAt(0)}function h(a,b){for(var c=-1,d=a.length;++c<d&&b.indexOf(a.charAt(c))>-1;);return c}function i(a,b){for(var c=a.length;c--&&b.indexOf(a.charAt(c))>-1;);return c}function j(b,c){return a(b.criteria,c.criteria)||b.index-c.index}function k(b,c){for(var d=-1,e=b.criteria,f=c.criteria,g=e.length;++d<g;){var h=a(e[d],f[d]);if(h)return h}return b.index-c.index}function l(a){return Ob[a]}function m(a){return Pb[a]}function n(a){return"\\"+Sb[a]}function o(a,b,c){for(var d=a.length,e=c?b||d:(b||0)-1;c?e--:++e<d;){var f=a[e];if(f!==f)return e}return-1}function p(a){return a&&"object"==typeof a||!1}function q(a){return 160>=a&&a>=9&&13>=a||32==a||160==a||5760==a||6158==a||a>=8192&&(8202>=a||8232==a||8233==a||8239==a||8287==a||12288==a||65279==a)}function r(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;)a[c]===b&&(a[c]=Q,f[++e]=c);return f}function s(a,b){for(var c,d=-1,e=a.length,f=-1,g=[];++d<e;){var h=a[d],i=b?b(h,d,a):h;d&&c===i||(c=i,g[++f]=h)}return g}function t(a){for(var b=-1,c=a.length;++b<c&&q(a.charCodeAt(b)););return b}function u(a){for(var b=a.length;b--&&q(a.charCodeAt(b)););return b}function v(a){return Qb[a]}function w(b){function c(a){if(p(a)&&!Ph(a)){if(a instanceof q)return a;if(Tg.call(a,"__wrapped__"))return new q(a.__wrapped__,a.__chain__,Zb(a.__actions__))}return new q(a)}function q(a,b,c){this.__actions__=c||[],this.__chain__=!!b,this.__wrapped__=a}function X(a){this.actions=null,this.dir=1,this.dropCount=0,this.filtered=!1,this.iteratees=null,this.takeCount=vh,this.views=null,this.wrapped=a}function _(){var a=this.actions,b=this.iteratees,c=this.views,d=new X(this.wrapped);return d.actions=a?Zb(a):null,d.dir=this.dir,d.dropCount=this.dropCount,d.filtered=this.filtered,d.iteratees=b?Zb(b):null,d.takeCount=this.takeCount,d.views=c?Zb(c):null,d}function bb(){if(this.filtered){var a=new X(this);a.dir=-1,a.filtered=!0}else a=this.clone(),a.dir*=-1;return a}function Ob(){var a=this.wrapped.value();if(!Ph(a))return Uc(a,this.actions);var b=this.dir,c=0>b,d=pd(0,a.length,this.views),e=d.start,f=d.end,g=f-e,h=this.dropCount,i=ph(g,this.takeCount-h),j=c?f:e-1,k=this.iteratees,l=k?k.length:0,m=0,n=[];a:for(;g--&&i>m;){j+=b;for(var o=-1,p=a[j];++o<l;){var q=k[o],r=q.iteratee,s=r(p,j,a),t=q.type;if(t==N)p=s;else if(!s){if(t==M)continue a;break a}}h?h--:n[m++]=p}return n}function Pb(){this.__data__={}}function Qb(a){return this.has(a)&&delete this.__data__[a]}function Rb(a){return"__proto__"==a?x:this.__data__[a]}function Sb(a){return"__proto__"!=a&&Tg.call(this.__data__,a)}function Ub(a,b){return"__proto__"!=a&&(this.__data__[a]=b),this}function Vb(a){var b=a?a.length:0;for(this.data={hash:lh(null),set:new eh};b--;)this.push(a[b])}function Wb(a,b){var c=a.data,d="string"==typeof b||uf(b)?c.set.has(b):c.hash[b];return d?0:-1}function Xb(a){var b=this.data;"string"==typeof a||uf(a)?b.set.add(a):b.hash[a]=!0}function Zb(a,b){var c=-1,d=a.length;for(b||(b=Eg(d));++c<d;)b[c]=a[c];return b}function $b(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}function _b(a,b){for(var c=a.length;c--&&b(a[c],c,a)!==!1;);return a}function ac(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function bc(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[++e]=g)}return f}function cc(a,b){for(var c=-1,d=a.length,e=Eg(d);++c<d;)e[c]=b(a[c],c,a);return e}function dc(a){for(var b=-1,c=a.length,d=uh;++b<c;){var e=a[b];e>d&&(d=e)}return d}function ec(a){for(var b=-1,c=a.length,d=vh;++b<c;){var e=a[b];d>e&&(d=e)}return d}function fc(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function gc(a,b,c,d){var e=a.length;
for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function hc(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function ic(a,b){return"undefined"==typeof a?b:a}function jc(a,b,c,d){return"undefined"!=typeof a&&Tg.call(d,c)?a:b}function kc(a,b,c){var d=Th(b);if(!c)return mc(b,a,d);for(var e=-1,f=d.length;++e<f;){var g=d[e],h=a[g],i=c(h,b[g],g,a,b);(i===i?i===h:h!==h)&&("undefined"!=typeof h||g in a)||(a[g]=i)}return a}function lc(a,b){for(var c=-1,d=a.length,e=wd(d),f=b.length,g=Eg(f);++c<f;){var h=b[c];e?(h=parseFloat(h),g[c]=ud(h,d)?a[h]:x):g[c]=a[h]}return g}function mc(a,b,c){c||(c=b,b={});for(var d=-1,e=c.length;++d<e;){var f=c[d];b[f]=a[f]}return b}function nc(a,b){for(var c=-1,d=b.length;++c<d;){var e=b[c];a[e]=id(a[e],z,a)}return a}function oc(a,b,c){var d=typeof a;return"function"==d?"undefined"!=typeof b&&td(a)?Xc(a,b,c):a:null==a?ug:"object"==d?Jc(a):Mc(a+"")}function pc(a,b,c,d,e,f,g){var h;if(c&&(h=e?c(a,d,e):c(a)),"undefined"!=typeof h)return h;if(!uf(a))return a;var i=Ph(a);if(i){if(h=qd(a),!b)return Zb(a,h)}else{var j=Vg.call(a),k=j==W;if(j!=Z&&j!=R&&(!k||e))return Mb[j]?sd(a,j,b):e?a:{};if(h=rd(k?{}:a),!b)return mc(a,h,Th(a))}f||(f=[]),g||(g=[]);for(var l=f.length;l--;)if(f[l]==a)return g[l];return f.push(a),g.push(h),(i?$b:Bc)(a,function(d,e){h[e]=pc(d,b,c,e,a,f,g)}),h}function qc(a,b,c,d){if(!tf(a))throw new Ng(P);return fh(function(){a.apply(x,Qc(c,d))},b)}function rc(a,b){var c=a?a.length:0,e=[];if(!c)return e;var f=-1,g=od(),h=g==d,i=h&&b.length>=200&&Fh(b),j=b.length;i&&(g=Wb,h=!1,b=i);a:for(;++f<c;){var k=a[f];if(h&&k===k){for(var l=j;l--;)if(b[l]===k)continue a;e.push(k)}else g(b,k)<0&&e.push(k)}return e}function sc(a,b){var c=a?a.length:0;if(!wd(c))return Bc(a,b);for(var d=-1,e=Fd(a);++d<c&&b(e[d],d,e)!==!1;);return a}function tc(a,b){var c=a?a.length:0;if(!wd(c))return Cc(a,b);for(var d=Fd(a);c--&&b(d[c],c,d)!==!1;);return a}function uc(a,b){var c=!0;return sc(a,function(a,d,e){return c=!!b(a,d,e)}),c}function vc(a,b){var c=[];return sc(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function wc(a,b,c,d){var e;return c(a,function(a,c,f){return b(a,c,f)?(e=d?c:a,!1):void 0}),e}function xc(a,b,c,d){for(var e=(d||0)-1,f=a.length,g=-1,h=[];++e<f;){var i=a[e];if(p(i)&&wd(i.length)&&(Ph(i)||mf(i))){b&&(i=xc(i,b,c));var j=-1,k=i.length;for(h.length+=k;++j<k;)h[++g]=i[j]}else c||(h[++g]=i)}return h}function yc(a,b,c){for(var d=-1,e=Fd(a),f=c(a),g=f.length;++d<g;){var h=f[d];if(b(e[h],h,e)===!1)break}return a}function zc(a,b,c){for(var d=Fd(a),e=c(a),f=e.length;f--;){var g=e[f];if(b(d[g],g,d)===!1)break}return a}function Ac(a,b){return yc(a,b,Rf)}function Bc(a,b){return yc(a,b,Th)}function Cc(a,b){return zc(a,b,Th)}function Dc(a,b){for(var c=-1,d=b.length,e=-1,f=[];++c<d;){var g=b[c];tf(a[g])&&(f[++e]=g)}return f}function Ec(a,b,c){var d=-1,e="function"==typeof b,f=a?a.length:0,g=wd(f)?Eg(f):[];return sc(a,function(a){var f=e?b:null!=a&&a[b];g[++d]=f?f.apply(a,c):x}),g}function Fc(a,b,c,d,e,f){if(a===b)return 0!==a||1/a==1/b;var g=typeof a,h=typeof b;return"function"!=g&&"object"!=g&&"function"!=h&&"object"!=h||null==a||null==b?a!==a&&b!==b:Gc(a,b,Fc,c,d,e,f)}function Gc(a,b,c,d,e,f,g){var h=Ph(a),i=Ph(b),j=S,k=S;h||(j=Vg.call(a),j==R?j=Z:j!=Z&&(h=Cf(a))),i||(k=Vg.call(b),k==R?k=Z:k!=Z&&(i=Cf(b)));var l=j==Z,m=k==Z,n=j==k;if(n&&!h&&!l)return kd(a,b,j);var o=l&&Tg.call(a,"__wrapped__"),p=m&&Tg.call(b,"__wrapped__");if(o||p)return c(o?a.value():a,p?b.value():b,d,e,f,g);if(!n)return!1;f||(f=[]),g||(g=[]);for(var q=f.length;q--;)if(f[q]==a)return g[q]==b;f.push(a),g.push(b);var r=(h?jd:ld)(a,b,c,d,e,f,g);return f.pop(),g.pop(),r}function Hc(a,b,c,d,e){var f=b.length;if(null==a)return!f;for(var g=-1,h=!e;++g<f;)if(h&&d[g]?c[g]!==a[b[g]]:!Tg.call(a,b[g]))return!1;for(g=-1;++g<f;){var i=b[g];if(h&&d[g])var j=Tg.call(a,i);else{var k=a[i],l=c[g];j=e?e(k,l,i):x,"undefined"==typeof j&&(j=Fc(l,k,e,!0))}if(!j)return!1}return!0}function Ic(a,b){var c=[];return sc(a,function(a,d,e){c.push(b(a,d,e))}),c}function Jc(a){var b=Th(a),c=b.length;if(1==c){var d=b[0],e=a[d];if(xd(e))return function(a){return null!=a&&e===a[d]&&Tg.call(a,d)}}for(var f=Eg(c),g=Eg(c);c--;)e=a[b[c]],f[c]=e,g[c]=xd(e);return function(a){return Hc(a,b,f,g)}}function Kc(a,b,c,d,e){var f=wd(b.length)&&(Ph(b)||Cf(b));return(f?$b:Bc)(b,function(b,g,h){if(p(b))return d||(d=[]),e||(e=[]),Lc(a,h,g,Kc,c,d,e);var i=a[g],j=c?c(i,b,g,a,h):x,k="undefined"==typeof j;k&&(j=b),!f&&"undefined"==typeof j||!k&&(j===j?j===i:i!==i)||(a[g]=j)}),a}function Lc(a,b,c,d,e,f,g){for(var h=f.length,i=b[c];h--;)if(f[h]==i)return void(a[c]=g[h]);var j=a[c],k=e?e(j,i,c,a,b):x,l="undefined"==typeof k;l&&(k=i,wd(i.length)&&(Ph(i)||Cf(i))?k=Ph(j)?j:j?Zb(j):[]:Rh(i)||mf(i)?k=mf(j)?Ff(j):Rh(j)?j:{}:l=!1),f.push(i),g.push(k),l?a[c]=d(k,i,e,f,g):(k===k?k!==j:j===j)&&(a[c]=k)}function Mc(a){return function(b){return null==b?x:b[a]}}function Nc(b,c){var d=c.length,e=lc(b,c);for(c.sort(a);d--;){var f=parseFloat(c[d]);if(f!=g&&ud(f)){var g=f;gh.call(b,f,1)}}return e}function Oc(a,b){return a+ah(th()*(b-a+1))}function Pc(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function Qc(a,b,c){var d=-1,e=a.length;b=null==b?0:+b||0,0>b&&(b=-b>e?0:e+b),c="undefined"==typeof c||c>e?e:+c||0,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Eg(e);++d<e;)f[d]=a[d+b];return f}function Rc(a,b){var c;return sc(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function Sc(a,b){var c=-1,e=od(),f=a.length,g=e==d,h=g&&f>=200,i=h&&Fh(),j=[];i?(e=Wb,g=!1):(h=!1,i=b?[]:j);a:for(;++c<f;){var k=a[c],l=b?b(k,c,a):k;if(g&&k===k){for(var m=i.length;m--;)if(i[m]===l)continue a;b&&i.push(l),j.push(k)}else e(i,l)<0&&((b||h)&&i.push(l),j.push(k))}return j}function Tc(a,b){for(var c=-1,d=b.length,e=Eg(d);++c<d;)e[c]=a[b[c]];return e}function Uc(a,b){var c=a;c instanceof X&&(c=c.value());for(var d=-1,e=b.length;++d<e;){var f=[c],g=b[d];ch.apply(f,g.args),c=g.func.apply(g.thisArg,f)}return c}function Vc(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&yh>=e){for(;e>d;){var f=d+e>>>1,g=a[f];(c?b>=g:b>g)?d=f+1:e=f}return e}return Wc(a,b,ug,c)}function Wc(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h="undefined"==typeof b;f>e;){var i=ah((e+f)/2),j=c(a[i]),k=j===j;if(g)var l=k||d;else l=h?k&&(d||"undefined"!=typeof j):d?b>=j:b>j;l?e=i+1:f=i}return ph(f,xh)}function Xc(a,b,c){if("function"!=typeof a)return ug;if("undefined"==typeof b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}function Yc(a){return Zg.call(a,0)}function Zc(a,b,c){for(var d=c.length,e=-1,f=oh(a.length-d,0),g=-1,h=b.length,i=Eg(f+h);++g<h;)i[g]=b[g];for(;++e<d;)i[c[e]]=a[e];for(;f--;)i[g++]=a[e++];return i}function $c(a,b,c){for(var d=-1,e=c.length,f=-1,g=oh(a.length-e,0),h=-1,i=b.length,j=Eg(g+i);++f<g;)j[f]=a[f];for(var k=f;++h<i;)j[k+h]=b[h];for(;++d<e;)j[k+c[d]]=a[f++];return j}function _c(a,b){return function(c,d,e){var f=b?b():{};if(d=nd(d,e,3),Ph(c))for(var g=-1,h=c.length;++g<h;){var i=c[g];a(f,i,d(i,g,c),c)}else sc(c,function(b,c,e){a(f,b,d(b,c,e),e)});return f}}function ad(a){return function(){var b=arguments.length,c=arguments[0];if(2>b||null==c)return c;if(b>3&&vd(arguments[1],arguments[2],arguments[3])&&(b=2),b>3&&"function"==typeof arguments[b-2])var d=Xc(arguments[--b-1],arguments[b--],5);else b>2&&"function"==typeof arguments[b-1]&&(d=arguments[--b]);for(var e=0;++e<b;){var f=arguments[e];f&&a(c,f,d)}return c}}function bd(a,b){function c(){return(this instanceof c?d:a).apply(b,arguments)}var d=dd(a);return c}function cd(a){return function(b){for(var c=-1,d=qg(ag(b)),e=d.length,f="";++c<e;)f=a(f,d[c],c);return f}}function dd(a){return function(){var b=Dh(a.prototype),c=a.apply(b,arguments);return uf(c)?c:b}}function ed(a,b){return function(c,d,e){e&&vd(c,d,e)&&(d=null);var f=nd(),h=null==d;if(f===oc&&h||(h=!1,d=f(d,e,3)),h){var i=Ph(c);if(i||!Bf(c))return a(i?c:Ed(c));d=g}return md(c,d,b)}}function fd(a,b,c,d,e,f,g,h,i,j){function k(){for(var u=arguments.length,v=u,w=Eg(u);v--;)w[v]=arguments[v];if(d&&(w=Zc(w,d,e)),f&&(w=$c(w,f,g)),o||q){var x=k.placeholder,y=r(w,x);if(u-=y.length,j>u){var B=h?Zb(h):null,C=oh(j-u,0),D=o?y:null,G=o?null:y,H=o?w:null,I=o?null:w;b|=o?E:F,b&=~(o?F:E),p||(b&=~(z|A));var J=fd(a,b,c,H,D,I,G,B,i,C);return J.placeholder=x,J}}var K=m?c:this;return n&&(a=K[t]),h&&(w=Bd(w,h)),l&&i<w.length&&(w.length=i),(this instanceof k?s||dd(a):a).apply(K,w)}var l=b&H,m=b&z,n=b&A,o=b&C,p=b&B,q=b&D,s=!n&&dd(a),t=a;return k}function gd(a,b,c){var d=a.length;if(b=+b,d>=b||!mh(b))return"";var e=b-d;return c=null==c?" ":c+"",ig(c,$g(e/c.length)).slice(0,e)}function hd(a,b,c,d){function e(){for(var b=-1,h=arguments.length,i=-1,j=d.length,k=Eg(h+j);++i<j;)k[i]=d[i];for(;h--;)k[i++]=arguments[++b];return(this instanceof e?g:a).apply(f?c:this,k)}var f=b&z,g=dd(a);return e}function id(a,b,c,d,e,f,g,h){var i=b&A;if(!i&&!tf(a))throw new Ng(P);var j=d?d.length:0;if(j||(b&=~(E|F),d=e=null),j-=e?e.length:0,b&F){var k=d,l=e;d=e=null}var m=!i&&Gh(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&m!==!0&&(yd(n,m),b=n[1],h=n[9]),n[9]=null==h?i?0:a.length:oh(h-j,0)||0,b==z)var o=bd(n[0],n[2]);else o=b!=E&&b!=(z|E)||n[4].length?fd.apply(null,n):hd.apply(null,n);var p=m?Eh:Hh;return p(o,n)}function jd(a,b,c,d,e,f,g){var h=-1,i=a.length,j=b.length,k=!0;if(i!=j&&!(e&&j>i))return!1;for(;k&&++h<i;){var l=a[h],m=b[h];if(k=x,d&&(k=e?d(m,l,h):d(l,m,h)),"undefined"==typeof k)if(e)for(var n=j;n--&&(m=b[n],!(k=l&&l===m||c(l,m,d,e,f,g))););else k=l&&l===m||c(l,m,d,e,f,g)}return!!k}function kd(a,b,c){switch(c){case T:case U:return+a==+b;case V:return a.name==b.name&&a.message==b.message;case Y:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case $:case ab:return a==b+""}return!1}function ld(a,b,c,d,e,f,g){var h=Th(a),i=h.length,j=Th(b),k=j.length;if(i!=k&&!e)return!1;for(var l,m=-1;++m<i;){var n=h[m],o=Tg.call(b,n);if(o){var p=a[n],q=b[n];o=x,d&&(o=e?d(q,p,n):d(p,q,n)),"undefined"==typeof o&&(o=p&&p===q||c(p,q,d,e,f,g))}if(!o)return!1;l||(l="constructor"==n)}if(!l){var r=a.constructor,s=b.constructor;if(r!=s&&"constructor"in a&&"constructor"in b&&!("function"==typeof r&&r instanceof r&&"function"==typeof s&&s instanceof s))return!1}return!0}function md(a,b,c){var d=c?vh:uh,e=d,f=e;return sc(a,function(a,g,h){var i=b(a,g,h);((c?e>i:i>e)||i===d&&i===f)&&(e=i,f=a)}),f}function nd(a,b,d){var e=c.callback||sg;return e=e===sg?oc:e,d?e(a,b,d):e}function od(a,b,e){var f=c.indexOf||Sd;return f=f===Sd?d:f,a?f(a,b,e):f}function pd(a,b,c){for(var d=-1,e=c?c.length:0;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=ph(b,a+g);break;case"takeRight":a=oh(a,b-g)}}return{start:a,end:b}}function qd(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&Tg.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function rd(a){var b=a.constructor;return"function"==typeof b&&b instanceof b||(b=Kg),new b}function sd(a,b,c){var d=a.constructor;switch(b){case cb:return Yc(a);case T:case U:return new d(+a);case db:case eb:case fb:case gb:case hb:case ib:case jb:case kb:case lb:var e=a.buffer;return new d(c?Yc(e):e,a.byteOffset,a.length);case Y:case ab:return new d(a);case $:var f=new d(a.source,xb.exec(a));f.lastIndex=a.lastIndex}return f}function td(a){var b=c.support,d=!(b.funcNames?a.name:b.funcDecomp);if(!d){var e=Rg.call(a);b.funcNames||(d=!yb.test(e)),d||(d=Fb.test(e)||xf(a),Eh(a,d))}return d}function ud(a,b){return a=+a,b=null==b?Ah:b,a>-1&&a%1==0&&b>a}function vd(a,b,c){if(!uf(c))return!1;var d=typeof b;if("number"==d)var e=c.length,f=wd(e)&&ud(b,e);else f="string"==d&&b in c;return f&&c[b]===a}function wd(a){return"number"==typeof a&&a>-1&&a%1==0&&Ah>=a}function xd(a){return a===a&&(0===a?1/a>0:!uf(a))}function yd(a,b){var c=a[1],d=b[1],e=c|d,f=H|G,g=z|A,h=f|g|B|D,i=c&H&&!(d&H),j=c&G&&!(d&G),k=(j?a:b)[7],l=(i?a:b)[8],m=!(c>=G&&d>g||c>g&&d>=G),n=e>=f&&h>=e&&(G>c||(j||i)&&k.length<=l);if(!m&&!n)return a;d&z&&(a[2]=b[2],e|=c&z?0:B);var o=b[3];if(o){var p=a[3];a[3]=p?Zc(p,o,b[4]):Zb(o),a[4]=p?r(a[3],Q):Zb(b[4])}return o=b[5],o&&(p=a[5],a[5]=p?$c(p,o,b[6]):Zb(o),a[6]=p?r(a[5],Q):Zb(b[6])),o=b[7],o&&(a[7]=Zb(o)),d&H&&(a[8]=null==a[8]?b[8]:ph(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function zd(a,b){a=Fd(a);for(var c=-1,d=b.length,e={};++c<d;){var f=b[c];f in a&&(e[f]=a[f])}return e}function Ad(a,b){var c={};return Ac(a,function(a,d,e){b(a,d,e)&&(c[d]=a)}),c}function Bd(a,b){for(var c=a.length,d=ph(b.length,c),e=Zb(a);d--;){var f=b[d];a[d]=ud(f,c)?e[f]:x}return a}function Cd(a){{var b;c.support}if(!p(a)||Vg.call(a)!=Z||!Tg.call(a,"constructor")&&(b=a.constructor,"function"==typeof b&&!(b instanceof b)))return!1;var d;return Ac(a,function(a,b){d=b}),"undefined"==typeof d||Tg.call(a,d)}function Dd(a){for(var b=Rf(a),d=b.length,e=d&&a.length,f=c.support,g=e&&wd(e)&&(Ph(a)||f.nonEnumArgs&&mf(a)),h=-1,i=[];++h<d;){var j=b[h];(g&&ud(j,e)||Tg.call(a,j))&&i.push(j)}return i}function Ed(a){return null==a?[]:wd(a.length)?uf(a)?a:Kg(a):Yf(a)}function Fd(a){return uf(a)?a:Kg(a)}function Gd(a,b,c){b=(c?vd(a,b,c):null==b)?1:oh(+b||1,1);for(var d=0,e=a?a.length:0,f=-1,g=Eg($g(e/b));e>d;)g[++f]=Qc(a,d,d+=b);return g}function Hd(a){for(var b=-1,c=a?a.length:0,d=-1,e=[];++b<c;){var f=a[b];f&&(e[++d]=f)}return e}function Id(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Ph(c)||mf(c))break}return rc(c,xc(arguments,!1,!0,++a))}function Jd(a,b,c){var d=a?a.length:0;return d?((c?vd(a,b,c):null==b)&&(b=1),Qc(a,0>b?0:b)):[]}function Kd(a,b,c){var d=a?a.length:0;return d?((c?vd(a,b,c):null==b)&&(b=1),b=d-(+b||0),Qc(a,0,0>b?0:b)):[]}function Ld(a,b,c){var d=a?a.length:0;if(!d)return[];for(b=nd(b,c,3);d--&&b(a[d],d,a););return Qc(a,0,d+1)}function Md(a,b,c){var d=a?a.length:0;if(!d)return[];var e=-1;for(b=nd(b,c,3);++e<d&&b(a[e],e,a););return Qc(a,e)}function Nd(a,b,c){var d=-1,e=a?a.length:0;for(b=nd(b,c,3);++d<e;)if(b(a[d],d,a))return d;return-1}function Od(a,b,c){var d=a?a.length:0;for(b=nd(b,c,3);d--;)if(b(a[d],d,a))return d;return-1}function Pd(a){return a?a[0]:x}function Qd(a,b,c){var d=a?a.length:0;return c&&vd(a,b,c)&&(b=!1),d?xc(a,b):[]}function Rd(a){var b=a?a.length:0;return b?xc(a,!0):[]}function Sd(a,b,c){var e=a?a.length:0;if(!e)return-1;if("number"==typeof c)c=0>c?oh(e+c,0):c||0;else if(c){var f=Vc(a,b),g=a[f];return(b===b?b===g:g!==g)?f:-1}return d(a,b,c)}function Td(a){return Kd(a,1)}function Ud(){for(var a=[],b=-1,c=arguments.length,e=[],f=od(),g=f==d;++b<c;){var h=arguments[b];(Ph(h)||mf(h))&&(a.push(h),e.push(g&&h.length>=120&&Fh(b&&h)))}c=a.length;var i=a[0],j=-1,k=i?i.length:0,l=[],m=e[0];a:for(;++j<k;)if(h=i[j],(m?Wb(m,h):f(l,h))<0){for(b=c;--b;){var n=e[b];if((n?Wb(n,h):f(a[b],h))<0)continue a}m&&m.push(h),l.push(h)}return l}function Vd(a){var b=a?a.length:0;return b?a[b-1]:x}function Wd(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if("number"==typeof c)e=(0>c?oh(d+c,0):ph(c||0,d-1))+1;else if(c){e=Vc(a,b,!0)-1;var f=a[e];return(b===b?b===f:f!==f)?e:-1}if(b!==b)return o(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1}function Xd(){var a=arguments[0];if(!a||!a.length)return a;for(var b=0,c=od(),d=arguments.length;++b<d;)for(var e=0,f=arguments[b];(e=c(a,f,e))>-1;)gh.call(a,e,1);return a}function Yd(a){return Nc(a||[],xc(arguments,!1,!1,1))}function Zd(a,b,c){var d=-1,e=a?a.length:0,f=[];for(b=nd(b,c,3);++d<e;){var g=a[d];b(g,d,a)&&(f.push(g),gh.call(a,d--,1),e--)}return f}function $d(a){return Jd(a,1)}function _d(a,b,c){var d=a?a.length:0;return d?(c&&"number"!=typeof c&&vd(a,b,c)&&(b=0,c=d),Qc(a,b,c)):[]}function ae(a,b,c,d){var e=nd(c);return e===oc&&null==c?Vc(a,b):Wc(a,b,e(c,d,1))}function be(a,b,c,d){var e=nd(c);return e===oc&&null==c?Vc(a,b,!0):Wc(a,b,e(c,d,1),!0)}function ce(a,b,c){var d=a?a.length:0;return d?((c?vd(a,b,c):null==b)&&(b=1),Qc(a,0,0>b?0:b)):[]}function de(a,b,c){var d=a?a.length:0;return d?((c?vd(a,b,c):null==b)&&(b=1),b=d-(+b||0),Qc(a,0>b?0:b)):[]}function ee(a,b,c){var d=a?a.length:0;if(!d)return[];for(b=nd(b,c,3);d--&&b(a[d],d,a););return Qc(a,d+1)}function fe(a,b,c){var d=a?a.length:0;if(!d)return[];var e=-1;for(b=nd(b,c,3);++e<d&&b(a[e],e,a););return Qc(a,0,e)}function ge(){return Sc(xc(arguments,!1,!0))}function he(a,b,c,e){var f=a?a.length:0;if(!f)return[];"boolean"!=typeof b&&null!=b&&(e=c,c=vd(a,b,e)?null:b,b=!1);var g=nd();return(g!==oc||null!=c)&&(c=g(c,e,3)),b&&od()==d?s(a,c):Sc(a,c)}function ie(a){for(var b=-1,c=(a&&a.length&&dc(cc(a,Sg)))>>>0,d=Eg(c);++b<c;)d[b]=cc(a,Mc(b));return d}function je(a){return rc(a,Qc(arguments,1))}function ke(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Ph(c)||mf(c))var d=d?rc(d,c).concat(rc(c,d)):c}return d?Sc(d):[]}function le(){for(var a=arguments.length,b=Eg(a);a--;)b[a]=arguments[a];return ie(b)}function me(a,b){var c=-1,d=a?a.length:0,e={};for(!d||b||Ph(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function ne(a){var b=c(a);return b.__chain__=!0,b}function oe(a,b,c){return b.call(c,a),a}function pe(a,b,c){return b.call(c,a)}function qe(){return ne(this)}function re(){var a=this.__wrapped__;return a instanceof X?(this.__actions__.length&&(a=new X(this)),new q(a.reverse())):this.thru(function(a){return a.reverse()})}function se(){return this.value()+""}function te(){return Uc(this.__wrapped__,this.__actions__)}function ue(a){var b=a?a.length:0;return wd(b)&&(a=Ed(a)),lc(a,xc(arguments,!1,!1,1))}function ve(a,b,c){var d=a?a.length:0;return wd(d)||(a=Yf(a),d=a.length),d?(c="number"==typeof c?0>c?oh(d+c,0):c||0:0,"string"==typeof a||!Ph(a)&&Bf(a)?d>c&&a.indexOf(b,c)>-1:od(a,b,c)>-1):!1}function we(a,b,c){var d=Ph(a)?ac:uc;return("function"!=typeof b||"undefined"!=typeof c)&&(b=nd(b,c,3)),d(a,b)}function xe(a,b,c){var d=Ph(a)?bc:vc;return b=nd(b,c,3),d(a,b)}function ye(a,b,c){if(Ph(a)){var d=Nd(a,b,c);return d>-1?a[d]:x}return b=nd(b,c,3),wc(a,b,sc)}function ze(a,b,c){return b=nd(b,c,3),wc(a,b,tc)}function Ae(a,b){return ye(a,Jc(b))}function Be(a,b,c){return"function"==typeof b&&"undefined"==typeof c&&Ph(a)?$b(a,b):sc(a,Xc(b,c,3))}function Ce(a,b,c){return"function"==typeof b&&"undefined"==typeof c&&Ph(a)?_b(a,b):tc(a,Xc(b,c,3))}function De(a,b){return Ec(a,b,Qc(arguments,2))}function Ee(a,b,c){var d=Ph(a)?cc:Ic;return b=nd(b,c,3),d(a,b)}function Fe(a,b){return Ee(a,Mc(b+""))}function Ge(a,b,c,d){var e=Ph(a)?fc:Pc;return e(a,nd(b,d,4),c,arguments.length<3,sc)}function He(a,b,c,d){var e=Ph(a)?gc:Pc;return e(a,nd(b,d,4),c,arguments.length<3,tc)}function Ie(a,b,c){var d=Ph(a)?bc:vc;return b=nd(b,c,3),d(a,function(a,c,d){return!b(a,c,d)})}function Je(a,b,c){if(c?vd(a,b,c):null==b){a=Ed(a);var d=a.length;return d>0?a[Oc(0,d-1)]:x}var e=Ke(a);return e.length=ph(0>b?0:+b||0,e.length),e}function Ke(a){a=Ed(a);for(var b=-1,c=a.length,d=Eg(c);++b<c;){var e=Oc(0,b);b!=e&&(d[b]=d[e]),d[e]=a[b]}return d}function Le(a){var b=a?a.length:0;return wd(b)?b:Th(a).length}function Me(a,b,c){var d=Ph(a)?hc:Rc;return("function"!=typeof b||"undefined"!=typeof c)&&(b=nd(b,c,3)),d(a,b)}function Ne(a,b,c){var d=-1,f=a?a.length:0,g=wd(f)?Eg(f):[];return c&&vd(a,b,c)&&(b=null),b=nd(b,c,3),sc(a,function(a,c,e){g[++d]={criteria:b(a,c,e),index:d,value:a}}),e(g,j)}function Oe(a){var b=arguments;b.length>3&&vd(b[1],b[2],b[3])&&(b=[a,b[1]]);var c=-1,d=a?a.length:0,f=xc(b,!1,!1,1),g=wd(d)?Eg(d):[];return sc(a,function(a){for(var b=f.length,d=Eg(b);b--;)d[b]=null==a?x:a[f[b]];g[++c]={criteria:d,index:c,value:a}}),e(g,k)}function Pe(a,b){return xe(a,Jc(b))}function Qe(a,b){if(!tf(b)){if(!tf(a))throw new Ng(P);var c=a;a=b,b=c}return a=mh(a=+a)?a:0,function(){return--a<1?b.apply(this,arguments):void 0}}function Re(a,b,c){return c&&vd(a,b,c)&&(b=null),b=a&&null==b?a.length:oh(+b||0,0),id(a,H,null,null,null,null,b)}function Se(a,b){var c;if(!tf(b)){if(!tf(a))throw new Ng(P);var d=a;a=b,b=d}return function(){return--a>0?c=b.apply(this,arguments):b=null,c}}function Te(a,b){var c=z;if(arguments.length>2){var d=Qc(arguments,2),e=r(d,Te.placeholder);c|=E}return id(a,c,b,d,e)}function Ue(a){return nc(a,arguments.length>1?xc(arguments,!1,!1,1):Of(a))}function Ve(a,b){var c=z|A;if(arguments.length>2){var d=Qc(arguments,2),e=r(d,Ve.placeholder);c|=E}return id(b,c,a,d,e)}function We(a,b,c){c&&vd(a,b,c)&&(b=null);var d=id(a,C,null,null,null,null,null,b);return d.placeholder=We.placeholder,d}function Xe(a,b,c){c&&vd(a,b,c)&&(b=null);var d=id(a,D,null,null,null,null,null,b);return d.placeholder=Xe.placeholder,d}function Ye(a,b,c){function d(){m&&_g(m),i&&_g(i),i=m=n=x}function e(){var c=b-(Oh()-k);if(0>=c||c>b){i&&_g(i);var d=n;i=m=n=x,d&&(o=Oh(),j=a.apply(l,h),m||i||(h=l=null))}else m=fh(e,c)}function f(){m&&_g(m),i=m=n=x,(q||p!==b)&&(o=Oh(),j=a.apply(l,h),m||i||(h=l=null))}function g(){if(h=arguments,k=Oh(),l=this,n=q&&(m||!r),p===!1)var c=r&&!m;else{i||r||(o=k);var d=p-(k-o),g=0>=d||d>p;g?(i&&(i=_g(i)),o=k,j=a.apply(l,h)):i||(i=fh(f,d))}return g&&m?m=_g(m):m||b===p||(m=fh(e,b)),c&&(g=!0,j=a.apply(l,h)),!g||m||i||(h=l=null),j}var h,i,j,k,l,m,n,o=0,p=!1,q=!0;if(!tf(a))throw new Ng(P);if(b=0>b?0:b,c===!0){var r=!0;q=!1}else uf(c)&&(r=c.leading,p="maxWait"in c&&oh(+c.maxWait||0,b),q="trailing"in c?c.trailing:q);return g.cancel=d,g}function Ze(a){return qc(a,1,arguments,1)}function $e(a,b){return qc(a,b,arguments,2)}function _e(){var a=arguments,b=a.length;if(!b)return function(){};if(!ac(a,tf))throw new Ng(P);return function(){for(var c=0,d=a[c].apply(this,arguments);++c<b;)d=a[c].call(this,d);return d}}function af(){var a=arguments,b=a.length-1;if(0>b)return function(){};if(!ac(a,tf))throw new Ng(P);return function(){for(var c=b,d=a[c].apply(this,arguments);c--;)d=a[c].call(this,d);return d}}function bf(a,b){if(!tf(a)||b&&!tf(b))throw new Ng(P);var c=function(){var d=c.cache,e=b?b.apply(this,arguments):arguments[0];if(d.has(e))return d.get(e);var f=a.apply(this,arguments);return d.set(e,f),f};return c.cache=new bf.Cache,c}function cf(a){if(!tf(a))throw new Ng(P);return function(){return!a.apply(this,arguments)}}function df(a){return Se(a,2)}function ef(a){var b=Qc(arguments,1),c=r(b,ef.placeholder);return id(a,E,null,b,c)}function ff(a){var b=Qc(arguments,1),c=r(b,ff.placeholder);return id(a,F,null,b,c)}function gf(a){var b=xc(arguments,!1,!1,1);return id(a,G,null,null,null,b)}function hf(a,b,c){var d=!0,e=!0;if(!tf(a))throw new Ng(P);return c===!1?d=!1:uf(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),Nb.leading=d,Nb.maxWait=+b,Nb.trailing=e,Ye(a,b,Nb)}function jf(a,b){return b=null==b?ug:b,id(b,E,null,[a],[])}function kf(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c=vd(a,b,d)?null:b,b=!1),c="function"==typeof c&&Xc(c,d,1),pc(a,b,c)}function lf(a,b,c){return b="function"==typeof b&&Xc(b,c,1),pc(a,!0,b)}function mf(a){var b=p(a)?a.length:x;return wd(b)&&Vg.call(a)==R||!1}function nf(a){return a===!0||a===!1||p(a)&&Vg.call(a)==T||!1}function of(a){return p(a)&&Vg.call(a)==U||!1}function pf(a){return a&&1===a.nodeType&&p(a)&&Vg.call(a).indexOf("Element")>-1||!1}function qf(a){if(null==a)return!0;var b=a.length;return wd(b)&&(Ph(a)||Bf(a)||mf(a)||p(a)&&tf(a.splice))?!b:!Th(a).length}function rf(a,b,c,d){if(c="function"==typeof c&&Xc(c,d,3),!c&&xd(a)&&xd(b))return a===b;var e=c?c(a,b):x;return"undefined"==typeof e?Fc(a,b,c):!!e}function sf(a){return p(a)&&"string"==typeof a.message&&Vg.call(a)==V||!1}function tf(a){return"function"==typeof a||!1}function uf(a){var b=typeof a;return"function"==b||a&&"object"==b||!1}function vf(a,b,c,d){var e=Th(b),f=e.length;if(c="function"==typeof c&&Xc(c,d,3),!c&&1==f){var g=e[0],h=b[g];if(xd(h))return null!=a&&h===a[g]&&Tg.call(a,g)}for(var i=Eg(f),j=Eg(f);f--;)h=i[f]=b[e[f]],j[f]=xd(h);return Hc(a,e,i,j,c)}function wf(a){return zf(a)&&a!=+a}function xf(a){return null==a?!1:Vg.call(a)==W?Xg.test(Rg.call(a)):p(a)&&Ab.test(a)||!1}function yf(a){return null===a}function zf(a){return"number"==typeof a||p(a)&&Vg.call(a)==Y||!1}function Af(a){return p(a)&&Vg.call(a)==$||!1}function Bf(a){return"string"==typeof a||p(a)&&Vg.call(a)==ab||!1}function Cf(a){return p(a)&&wd(a.length)&&Lb[Vg.call(a)]||!1}function Df(a){return"undefined"==typeof a}function Ef(a){var b=a?a.length:0;return wd(b)?b?Zb(a):[]:Yf(a)}function Ff(a){return mc(a,Rf(a))}function Gf(a,b,c){var d=Dh(a);return c&&vd(a,b,c)&&(b=null),b?mc(b,d,Th(b)):d}function Hf(a){if(null==a)return a;var b=Zb(arguments);return b.push(ic),Sh.apply(x,b)}function If(a,b,c){return b=nd(b,c,3),wc(a,b,Bc,!0)}function Jf(a,b,c){return b=nd(b,c,3),wc(a,b,Cc,!0)}function Kf(a,b,c){return("function"!=typeof b||"undefined"!=typeof c)&&(b=Xc(b,c,3)),yc(a,b,Rf)}function Lf(a,b,c){return b=Xc(b,c,3),zc(a,b,Rf)}function Mf(a,b,c){return("function"!=typeof b||"undefined"!=typeof c)&&(b=Xc(b,c,3)),Bc(a,b)}function Nf(a,b,c){return b=Xc(b,c,3),zc(a,b,Th)}function Of(a){return Dc(a,Rf(a))}function Pf(a,b){return a?Tg.call(a,b):!1}function Qf(a,b,c){c&&vd(a,b,c)&&(b=null);for(var d=-1,e=Th(a),f=e.length,g={};++d<f;){var h=e[d],i=a[h];b?Tg.call(g,i)?g[i].push(h):g[i]=[h]:g[i]=h}return g}function Rf(a){if(null==a)return[];uf(a)||(a=Kg(a));var b=a.length;b=b&&wd(b)&&(Ph(a)||Ch.nonEnumArgs&&mf(a))&&b||0;for(var c=a.constructor,d=-1,e="function"==typeof c&&c.prototype==a,f=Eg(b),g=b>0;++d<b;)f[d]=d+"";for(var h in a)g&&ud(h,b)||"constructor"==h&&(e||!Tg.call(a,h))||f.push(h);return f}function Sf(a,b,c){var d={};return b=nd(b,c,3),Bc(a,function(a,c,e){d[c]=b(a,c,e)}),d}function Tf(a,b,c){if(null==a)return{};if("function"!=typeof b){var d=cc(xc(arguments,!1,!1,1),Mg);return zd(a,rc(Rf(a),d))}return b=Xc(b,c,3),Ad(a,function(a,c,d){return!b(a,c,d)})}function Uf(a){for(var b=-1,c=Th(a),d=c.length,e=Eg(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function Vf(a,b,c){return null==a?{}:"function"==typeof b?Ad(a,Xc(b,c,3)):zd(a,xc(arguments,!1,!1,1))}function Wf(a,b,c){var d=null==a?x:a[b];return"undefined"==typeof d&&(d=c),tf(d)?d.call(a):d}function Xf(a,b,c,d){var e=Ph(a)||Cf(a);if(b=nd(b,d,4),null==c)if(e||uf(a)){var f=a.constructor;c=e?Ph(a)?new f:[]:Dh("function"==typeof f&&f.prototype)}else c={};return(e?$b:Bc)(a,function(a,d,e){return b(c,a,d,e)}),c}function Yf(a){return Tc(a,Th(a))}function Zf(a){return Tc(a,Rf(a))}function $f(a,b,c){c&&vd(a,b,c)&&(b=c=null);var d=null==a,e=null==b;if(null==c&&(e&&"boolean"==typeof a?(c=a,a=1):"boolean"==typeof b&&(c=b,e=!0)),d&&e&&(b=1,e=!1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=th();return ph(a+f*(b-a+parseFloat("1e-"+((f+"").length-1))),b)}return Oc(a,b)}function _f(a){return a=f(a),a&&a.charAt(0).toUpperCase()+a.slice(1)}function ag(a){return a=f(a),a&&a.replace(Bb,l)}function bg(a,b,c){a=f(a),b+="";var d=a.length;return c=("undefined"==typeof c?d:ph(0>c?0:+c||0,d))-b.length,c>=0&&a.indexOf(b,c)==c}function cg(a){return a=f(a),a&&sb.test(a)?a.replace(qb,m):a}function dg(a){return a=f(a),a&&Eb.test(a)?a.replace(Db,"\\$&"):a}function eg(a,b,c){a=f(a),b=+b;var d=a.length;if(d>=b||!mh(b))return a;var e=(b-d)/2,g=ah(e),h=$g(e);return c=gd("",h,c),c.slice(0,g)+a+c}function fg(a,b,c){return a=f(a),a&&gd(a,b,c)+a}function gg(a,b,c){return a=f(a),a&&a+gd(a,b,c)}function hg(a,b,c){return c&&vd(a,b,c)&&(b=0),sh(a,b)}function ig(a,b){var c="";if(a=f(a),b=+b,1>b||!a||!mh(b))return c;do b%2&&(c+=a),b=ah(b/2),a+=a;while(b);return c}function jg(a,b,c){return a=f(a),c=null==c?0:ph(0>c?0:+c||0,a.length),a.lastIndexOf(b,c)==c}function kg(a,b,d){var e=c.templateSettings;d&&vd(a,b,d)&&(b=d=null),a=f(a),b=kc(kc({},d||b),e,jc);var g,h,i=kc(kc({},b.imports),e.imports,jc),j=Th(i),k=Tc(i,j),l=0,m=b.interpolate||Cb,o="__p += '",p=Lg((b.escape||Cb).source+"|"+m.source+"|"+(m===vb?wb:Cb).source+"|"+(b.evaluate||Cb).source+"|$","g"),q="//# sourceURL="+("sourceURL"in b?b.sourceURL:"lodash.templateSources["+ ++Kb+"]")+"\n";a.replace(p,function(b,c,d,e,f,i){return d||(d=e),o+=a.slice(l,i).replace(Gb,n),c&&(g=!0,o+="' +\n__e("+c+") +\n'"),f&&(h=!0,o+="';\n"+f+";\n__p += '"),d&&(o+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),l=i+b.length,b}),o+="';\n";var r=b.variable;r||(o="with (obj) {\n"+o+"\n}\n"),o=(h?o.replace(mb,""):o).replace(nb,"$1").replace(ob,"$1;"),o="function("+(r||"obj")+") {\n"+(r?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(g?", __e = _.escape":"")+(h?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+o+"return __p\n}";var s=rg(function(){return Hg(j,q+"return "+o).apply(x,k)});if(s.source=o,sf(s))throw s;return s}function lg(a,b,c){var d=a;return(a=f(a))?(c?vd(d,b,c):null==b)?a.slice(t(a),u(a)+1):(b+="",a.slice(h(a,b),i(a,b)+1)):a}function mg(a,b,c){var d=a;return a=f(a),a?a.slice((c?vd(d,b,c):null==b)?t(a):h(a,b+"")):a}function ng(a,b,c){var d=a;return a=f(a),a?(c?vd(d,b,c):null==b)?a.slice(0,u(a)+1):a.slice(0,i(a,b+"")+1):a}function og(a,b,c){c&&vd(a,b,c)&&(b=null);var d=I,e=J;if(null!=b)if(uf(b)){var g="separator"in b?b.separator:g;d="length"in b?+b.length||0:d,e="omission"in b?f(b.omission):e}else d=+b||0;if(a=f(a),d>=a.length)return a;var h=d-e.length;if(1>h)return e;var i=a.slice(0,h);if(null==g)return i+e;if(Af(g)){if(a.slice(h).search(g)){var j,k,l=a.slice(0,h);for(g.global||(g=Lg(g.source,(xb.exec(g)||"")+"g")),g.lastIndex=0;j=g.exec(l);)k=j.index;i=i.slice(0,null==k?h:k)}}else if(a.indexOf(g,h)!=h){var m=i.lastIndexOf(g);m>-1&&(i=i.slice(0,m))}return i+e}function pg(a){return a=f(a),a&&rb.test(a)?a.replace(pb,v):a}function qg(a,b,c){return c&&vd(a,b,c)&&(b=null),a=f(a),a.match(b||Hb)||[]}function rg(a){try{return a()}catch(b){return sf(b)?b:Gg(b)}}function sg(a,b,c){return c&&vd(a,b,c)&&(b=null),p(a)?vg(a):oc(a,b)}function tg(a){return function(){return a}}function ug(a){return a}function vg(a){return Jc(pc(a,!0))}function wg(a,b,c){if(null==c){var d=uf(b),e=d&&Th(b),f=e&&e.length&&Dc(b,e);(f?f.length:d)||(f=!1,c=b,b=a,a=this)}f||(f=Dc(b,Th(b)));var g=!0,h=-1,i=tf(a),j=f.length;c===!1?g=!1:uf(c)&&"chain"in c&&(g=c.chain);for(;++h<j;){var k=f[h],l=b[k];a[k]=l,i&&(a.prototype[k]=function(b){return function(){var c=this.__chain__;if(g||c){var d=a(this.__wrapped__);return(d.__actions__=Zb(this.__actions__)).push({func:b,args:arguments,thisArg:a}),d.__chain__=c,d}var e=[this.value()];return ch.apply(e,arguments),b.apply(a,e)}}(l))}return a}function xg(){return b._=Wg,this}function yg(){}function zg(a){return Mc(a+"")}function Ag(a){return function(b){return null==a?x:a[b]}}function Bg(a,b,c){c&&vd(a,b,c)&&(b=c=null),a=+a||0,c=null==c?1:+c||0,null==b?(b=a,a=0):b=+b||0;for(var d=-1,e=oh($g((b-a)/(c||1)),0),f=Eg(e);++d<e;)f[d]=a,a+=c;return f}function Cg(a,b,c){if(a=+a,1>a||!mh(a))return[];var d=-1,e=Eg(ph(a,wh));for(b=Xc(b,c,1);++d<a;)wh>d?e[d]=b(d):b(d);return e}function Dg(a){var b=++Ug;return f(a)+b}b=b?Yb.defaults(Tb.Object(),b,Yb.pick(Tb,Jb)):Tb;var Eg=b.Array,Fg=b.Date,Gg=b.Error,Hg=b.Function,Ig=b.Math,Jg=b.Number,Kg=b.Object,Lg=b.RegExp,Mg=b.String,Ng=b.TypeError,Og=Eg.prototype,Pg=Kg.prototype,Qg=(Qg=b.window)&&Qg.document,Rg=Hg.prototype.toString,Sg=Mc("length"),Tg=Pg.hasOwnProperty,Ug=0,Vg=Pg.toString,Wg=b._,Xg=Lg("^"+dg(Vg).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yg=xf(Yg=b.ArrayBuffer)&&Yg,Zg=xf(Zg=Yg&&new Yg(0).slice)&&Zg,$g=Ig.ceil,_g=b.clearTimeout,ah=Ig.floor,bh=xf(bh=Kg.getPrototypeOf)&&bh,ch=Og.push,dh=Pg.propertyIsEnumerable,eh=xf(eh=b.Set)&&eh,fh=b.setTimeout,gh=Og.splice,hh=xf(hh=b.Uint8Array)&&hh,ih=(Og.unshift,xf(ih=b.WeakMap)&&ih),jh=function(){try{var a=xf(a=b.Float64Array)&&a,c=new a(new Yg(10),0,1)&&a}catch(d){}return c}(),kh=xf(kh=Eg.isArray)&&kh,lh=xf(lh=Kg.create)&&lh,mh=b.isFinite,nh=xf(nh=Kg.keys)&&nh,oh=Ig.max,ph=Ig.min,qh=xf(qh=Fg.now)&&qh,rh=xf(rh=Jg.isFinite)&&rh,sh=b.parseInt,th=Ig.random,uh=Jg.NEGATIVE_INFINITY,vh=Jg.POSITIVE_INFINITY,wh=Ig.pow(2,32)-1,xh=wh-1,yh=wh>>>1,zh=jh?jh.BYTES_PER_ELEMENT:0,Ah=Ig.pow(2,53)-1,Bh=ih&&new ih,Ch=c.support={};!function(){Ch.funcDecomp=!xf(b.WinRTError)&&Fb.test(w),Ch.funcNames="string"==typeof Hg.name;try{Ch.dom=11===Qg.createDocumentFragment().nodeType}catch(a){Ch.dom=!1}try{Ch.nonEnumArgs=!dh.call(arguments,1)
}catch(a){Ch.nonEnumArgs=!0}}(0,0),c.templateSettings={escape:tb,evaluate:ub,interpolate:vb,variable:"",imports:{_:c}};var Dh=function(){function a(){}return function(c){if(uf(c)){a.prototype=c;var d=new a;a.prototype=null}return d||b.Object()}}(),Eh=Bh?function(a,b){return Bh.set(a,b),a}:ug;Zg||(Yc=Yg&&hh?function(a){var b=a.byteLength,c=jh?ah(b/zh):0,d=c*zh,e=new Yg(b);if(c){var f=new jh(e,0,c);f.set(new jh(a,0,c))}return b!=d&&(f=new hh(e,d),f.set(new hh(a,d))),e}:tg(null));var Fh=lh&&eh?function(a){return new Vb(a)}:tg(null),Gh=Bh?function(a){return Bh.get(a)}:yg,Hh=function(){var a=0,b=0;return function(c,d){var e=Oh(),f=L-(e-b);if(b=e,f>0){if(++a>=K)return c}else a=0;return Eh(c,d)}}(),Ih=_c(function(a,b,c){Tg.call(a,c)?++a[c]:a[c]=1}),Jh=_c(function(a,b,c){Tg.call(a,c)?a[c].push(b):a[c]=[b]}),Kh=_c(function(a,b,c){a[c]=b}),Lh=ed(dc),Mh=ed(ec,!0),Nh=_c(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),Oh=qh||function(){return(new Fg).getTime()},Ph=kh||function(a){return p(a)&&wd(a.length)&&Vg.call(a)==S||!1};Ch.dom||(pf=function(a){return a&&1===a.nodeType&&p(a)&&!Rh(a)||!1});var Qh=rh||function(a){return"number"==typeof a&&mh(a)};(tf(/x/)||hh&&!tf(hh))&&(tf=function(a){return Vg.call(a)==W});var Rh=bh?function(a){if(!a||Vg.call(a)!=Z)return!1;var b=a.valueOf,c=xf(b)&&(c=bh(b))&&bh(c);return c?a==c||bh(a)==c:Cd(a)}:Cd,Sh=ad(kc),Th=nh?function(a){if(a)var b=a.constructor,c=a.length;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&c&&wd(c)?Dd(a):uf(a)?nh(a):[]}:Dd,Uh=ad(Kc),Vh=cd(function(a,b,c){return b=b.toLowerCase(),a+(c?b.charAt(0).toUpperCase()+b.slice(1):b)}),Wh=cd(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()});8!=sh(Ib+"08")&&(hg=function(a,b,c){return(c?vd(a,b,c):null==b)?b=0:b&&(b=+b),a=lg(a),sh(a,b||(zb.test(a)?16:10))});var Xh=cd(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),Yh=cd(function(a,b,c){return a+(c?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))});return q.prototype=c.prototype,Pb.prototype["delete"]=Qb,Pb.prototype.get=Rb,Pb.prototype.has=Sb,Pb.prototype.set=Ub,Vb.prototype.push=Xb,bf.Cache=Pb,c.after=Qe,c.ary=Re,c.assign=Sh,c.at=ue,c.before=Se,c.bind=Te,c.bindAll=Ue,c.bindKey=Ve,c.callback=sg,c.chain=ne,c.chunk=Gd,c.compact=Hd,c.constant=tg,c.countBy=Ih,c.create=Gf,c.curry=We,c.curryRight=Xe,c.debounce=Ye,c.defaults=Hf,c.defer=Ze,c.delay=$e,c.difference=Id,c.drop=Jd,c.dropRight=Kd,c.dropRightWhile=Ld,c.dropWhile=Md,c.filter=xe,c.flatten=Qd,c.flattenDeep=Rd,c.flow=_e,c.flowRight=af,c.forEach=Be,c.forEachRight=Ce,c.forIn=Kf,c.forInRight=Lf,c.forOwn=Mf,c.forOwnRight=Nf,c.functions=Of,c.groupBy=Jh,c.indexBy=Kh,c.initial=Td,c.intersection=Ud,c.invert=Qf,c.invoke=De,c.keys=Th,c.keysIn=Rf,c.map=Ee,c.mapValues=Sf,c.matches=vg,c.memoize=bf,c.merge=Uh,c.mixin=wg,c.negate=cf,c.omit=Tf,c.once=df,c.pairs=Uf,c.partial=ef,c.partialRight=ff,c.partition=Nh,c.pick=Vf,c.pluck=Fe,c.property=zg,c.propertyOf=Ag,c.pull=Xd,c.pullAt=Yd,c.range=Bg,c.rearg=gf,c.reject=Ie,c.remove=Zd,c.rest=$d,c.shuffle=Ke,c.slice=_d,c.sortBy=Ne,c.sortByAll=Oe,c.take=ce,c.takeRight=de,c.takeRightWhile=ee,c.takeWhile=fe,c.tap=oe,c.throttle=hf,c.thru=pe,c.times=Cg,c.toArray=Ef,c.toPlainObject=Ff,c.transform=Xf,c.union=ge,c.uniq=he,c.unzip=ie,c.values=Yf,c.valuesIn=Zf,c.where=Pe,c.without=je,c.wrap=jf,c.xor=ke,c.zip=le,c.zipObject=me,c.backflow=af,c.collect=Ee,c.compose=af,c.each=Be,c.eachRight=Ce,c.extend=Sh,c.iteratee=sg,c.methods=Of,c.object=me,c.select=xe,c.tail=$d,c.unique=he,wg(c,c),c.attempt=rg,c.camelCase=Vh,c.capitalize=_f,c.clone=kf,c.cloneDeep=lf,c.deburr=ag,c.endsWith=bg,c.escape=cg,c.escapeRegExp=dg,c.every=we,c.find=ye,c.findIndex=Nd,c.findKey=If,c.findLast=ze,c.findLastIndex=Od,c.findLastKey=Jf,c.findWhere=Ae,c.first=Pd,c.has=Pf,c.identity=ug,c.includes=ve,c.indexOf=Sd,c.isArguments=mf,c.isArray=Ph,c.isBoolean=nf,c.isDate=of,c.isElement=pf,c.isEmpty=qf,c.isEqual=rf,c.isError=sf,c.isFinite=Qh,c.isFunction=tf,c.isMatch=vf,c.isNaN=wf,c.isNative=xf,c.isNull=yf,c.isNumber=zf,c.isObject=uf,c.isPlainObject=Rh,c.isRegExp=Af,c.isString=Bf,c.isTypedArray=Cf,c.isUndefined=Df,c.kebabCase=Wh,c.last=Vd,c.lastIndexOf=Wd,c.max=Lh,c.min=Mh,c.noConflict=xg,c.noop=yg,c.now=Oh,c.pad=eg,c.padLeft=fg,c.padRight=gg,c.parseInt=hg,c.random=$f,c.reduce=Ge,c.reduceRight=He,c.repeat=ig,c.result=Wf,c.runInContext=w,c.size=Le,c.snakeCase=Xh,c.some=Me,c.sortedIndex=ae,c.sortedLastIndex=be,c.startCase=Yh,c.startsWith=jg,c.template=kg,c.trim=lg,c.trimLeft=mg,c.trimRight=ng,c.trunc=og,c.unescape=pg,c.uniqueId=Dg,c.words=qg,c.all=we,c.any=Me,c.contains=ve,c.detect=ye,c.foldl=Ge,c.foldr=He,c.head=Pd,c.include=ve,c.inject=Ge,wg(c,function(){var a={};return Bc(c,function(b,d){c.prototype[d]||(a[d]=b)}),a}(),!1),c.sample=Je,c.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return Je(b,a)}):Je(this.value())},c.VERSION=y,$b(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){c[a].placeholder=c}),$b(["filter","map","takeWhile"],function(a,b){var c=b==M;X.prototype[a]=function(a,d){var e=this.clone(),f=e.filtered,g=e.iteratees||(e.iteratees=[]);return e.filtered=f||c||b==O&&e.dir<0,g.push({iteratee:nd(a,d,3),type:b}),e}}),$b(["drop","take"],function(a,b){var c=a+"Count",d=a+"While";X.prototype[a]=function(d){d=null==d?1:oh(+d||0,0);var e=this.clone();if(e.filtered){var f=e[c];e[c]=b?ph(f,d):f+d}else{var g=e.views||(e.views=[]);g.push({size:d,type:a+(e.dir<0?"Right":"")})}return e},X.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()},X.prototype[a+"RightWhile"]=function(a,b){return this.reverse()[d](a,b).reverse()}}),$b(["first","last"],function(a,b){var c="take"+(b?"Right":"");X.prototype[a]=function(){return this[c](1).value()[0]}}),$b(["initial","rest"],function(a,b){var c="drop"+(b?"":"Right");X.prototype[a]=function(){return this[c](1)}}),$b(["pluck","where"],function(a,b){var c=b?"filter":"map",d=b?Jc:Mc;X.prototype[a]=function(a){return this[c](d(b?a:a+""))}}),X.prototype.dropWhile=function(a,b){var c,d,e=this.dir<0;return a=nd(a,b,3),this.filter(function(b,f,g){return c=c&&(e?d>f:f>d),d=f,c||(c=!a(b,f,g))})},X.prototype.reject=function(a,b){return a=nd(a,b,3),this.filter(function(b,c,d){return!a(b,c,d)})},X.prototype.slice=function(a,b){a=null==a?0:+a||0;var c=0>a?this.takeRight(-a):this.drop(a);return"undefined"!=typeof b&&(b=+b||0,c=0>b?c.dropRight(-b):c.take(b-a)),c},Bc(X.prototype,function(a,b){var d=c[b],e=/^(?:first|last)$/.test(b);c.prototype[b]=function(){var b=this.__wrapped__,f=arguments,g=this.__chain__,h=!!this.__actions__.length,i=b instanceof X,j=i&&!h;if(e&&!g)return j?a.call(b):d.call(c,this.value());var k=function(a){var b=[a];return ch.apply(b,f),d.apply(c,b)};if(i||Ph(b)){var l=j?b:new X(this),m=a.apply(l,f);if(!e&&(h||m.actions)){var n=m.actions||(m.actions=[]);n.push({func:pe,args:[k],thisArg:c})}return new q(m,g)}return this.thru(k)}}),$b(["concat","join","pop","push","shift","sort","splice","unshift"],function(a){var b=Og[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",e=/^(?:join|pop|shift)$/.test(a);c.prototype[a]=function(){var a=arguments;return e&&!this.__chain__?b.apply(this.value(),a):this[d](function(c){return b.apply(c,a)})}}),X.prototype.clone=_,X.prototype.reverse=bb,X.prototype.value=Ob,c.prototype.chain=qe,c.prototype.reverse=re,c.prototype.toString=se,c.prototype.toJSON=c.prototype.valueOf=c.prototype.value=te,c.prototype.collect=c.prototype.map,c.prototype.head=c.prototype.first,c.prototype.select=c.prototype.filter,c.prototype.tail=c.prototype.rest,c}var x,y="3.1.0",z=1,A=2,B=4,C=8,D=16,E=32,F=64,G=128,H=256,I=30,J="...",K=150,L=16,M=0,N=1,O=2,P="Expected a function",Q="__lodash_placeholder__",R="[object Arguments]",S="[object Array]",T="[object Boolean]",U="[object Date]",V="[object Error]",W="[object Function]",X="[object Map]",Y="[object Number]",Z="[object Object]",$="[object RegExp]",_="[object Set]",ab="[object String]",bb="[object WeakMap]",cb="[object ArrayBuffer]",db="[object Float32Array]",eb="[object Float64Array]",fb="[object Int8Array]",gb="[object Int16Array]",hb="[object Int32Array]",ib="[object Uint8Array]",jb="[object Uint8ClampedArray]",kb="[object Uint16Array]",lb="[object Uint32Array]",mb=/\b__p \+= '';/g,nb=/\b(__p \+=) '' \+/g,ob=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pb=/&(?:amp|lt|gt|quot|#39|#96);/g,qb=/[&<>"'`]/g,rb=RegExp(pb.source),sb=RegExp(qb.source),tb=/<%-([\s\S]+?)%>/g,ub=/<%([\s\S]+?)%>/g,vb=/<%=([\s\S]+?)%>/g,wb=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xb=/\w*$/,yb=/^\s*function[ \n\r\t]+\w/,zb=/^0[xX]/,Ab=/^\[object .+?Constructor\]$/,Bb=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Cb=/($^)/,Db=/[.*+?^${}()|[\]\/\\]/g,Eb=RegExp(Db.source),Fb=/\bthis\b/,Gb=/['\n\r\u2028\u2029\\]/g,Hb=function(){var a="[A-Z\\xc0-\\xd6\\xd8-\\xde]",b="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(a+"{2,}(?="+a+b+")|"+a+"?"+b+"|"+a+"+|[0-9]+","g")}(),Ib=" 	\f\n\r\u2028\u2029",Jb=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window","WinRTError"],Kb=-1,Lb={};Lb[db]=Lb[eb]=Lb[fb]=Lb[gb]=Lb[hb]=Lb[ib]=Lb[jb]=Lb[kb]=Lb[lb]=!0,Lb[R]=Lb[S]=Lb[cb]=Lb[T]=Lb[U]=Lb[V]=Lb[W]=Lb[X]=Lb[Y]=Lb[Z]=Lb[$]=Lb[_]=Lb[ab]=Lb[bb]=!1;var Mb={};Mb[R]=Mb[S]=Mb[cb]=Mb[T]=Mb[U]=Mb[db]=Mb[eb]=Mb[fb]=Mb[gb]=Mb[hb]=Mb[Y]=Mb[Z]=Mb[$]=Mb[ab]=Mb[ib]=Mb[jb]=Mb[kb]=Mb[lb]=!0,Mb[V]=Mb[W]=Mb[X]=Mb[_]=Mb[bb]=!1;var Nb={leading:!1,maxWait:0,trailing:!1},Ob={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Pb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Qb={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Rb={"function":!0,object:!0},Sb={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Tb=Rb[typeof window]&&window!==(this&&this.window)?window:this,Ub=Rb[typeof c]&&c&&!c.nodeType&&c,Vb=Rb[typeof b]&&b&&!b.nodeType&&b,Wb=Ub&&Vb&&"object"==typeof global&&global;!Wb||Wb.global!==Wb&&Wb.window!==Wb&&Wb.self!==Wb||(Tb=Wb);var Xb=Vb&&Vb.exports===Ub&&Ub,Yb=w();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Tb._=Yb,define(function(){return Yb})):Ub&&Vb?Xb?(Vb.exports=Yb)._=Yb:Ub._=Yb:Tb._=Yb}).call(this)},{}],80:[function(a,b){"use strict";var c=["#94a6e3","#fa777e","#7cd680","#88d8d2","#f1925b","#bb85e1","#ded237"],d=0;b.exports={get:function(){return c[d++%c.length]}}},{}],81:[function(a,b){"use strict";var c=a("backbone-events-standalone"),d=a("amp-extend"),e={debug:function(){var a=this;a._trigger=a.trigger,a.trigger=function(){return console.log("Hub:",arguments),a._trigger.apply(a,arguments)}}};d(e,c),window.hub=e,e.debug(),b.exports=e},{"amp-extend":1,"backbone-events-standalone":78}],82:[function(a){"use strict";function b(a,b,c){var f=function(f){c.success&&c.success(f),e.trigger.apply(e,[""+a+":"+b+":success"].concat(d.call(arguments)))},g=function(){e.trigger.apply(e,[""+a+":"+b+":error"].concat(d.call(arguments)))};if("load"===a){var h=c.model||c.collection;h.fetch({success:f,error:g})}else if("update"===a){var i;if(c.model.validate&&(i=c.model.validate(c.attributes)),i)error(i);else{var j=c.model.isNew();c.model.save(c.attributes,{success:function(){j&&c.collection&&c.collection.add(c.model),f.apply(void 0,arguments)},error:g})}}else"delete"===a&&c.model.destroy({success:function(){c.collection&&c.collection.remove(c.model),f.apply(void 0,arguments)},error:g})}function c(a,c){var d=a.split(":"),e=d[0],g=d[1];f.indexOf(e)>-1&&d.indexOf("success")<0&&d.indexOf("error")<0&&b(e,g,c)}var d=Array.prototype.slice,e=a("./hub.js"),f=["load","update","delete"];e.on("all",c)},{"./hub.js":81}],83:[function(a,b){"use strict";b.exports=window.session={}},{}],84:[function(a){"use strict";var b=a("./routers/router.js");a("./core/loader.js"),document.addEventListener("DOMContentLoaded",function(){var a=new b;a.history.start()})},{"./core/loader.js":82,"./routers/router.js":90}],85:[function(a,b){"use strict";var c=a("ampersand-model"),d=a("../core/session.js");b.exports=c.extend({props:{id:"string",label:"string",log_url:"string",token:"string"},url:function(){return this.loaded?"/api/coordinators/"+d.coordinatorId:(this.loaded=!0,"/api/coordinators/"+d.coordinatorId+"/"+d.token)}})},{"../core/session.js":83,"ampersand-model":9}],86:[function(a,b){"use strict";var c=a("ampersand-model");b.exports=c.extend({props:{datetime:"string",battery_voltage_visual:"number",radio_quality:"number",sensor2:"number",temperature:"number",version:"number"}})},{"ampersand-model":9}],87:[function(a,b){"use strict";var c=a("ampersand-rest-collection"),d=a("./dot.js"),e=(a("../core/session.js"),a("lodash"));b.exports=c.extend({model:d,initialize:function(a,b){var c=b.sensorId;this.sensorId=c},url:function(){var a=Math.floor(Date.now()/1e3),b=Math.floor((Date.now()-2592e6)/1e3);return"/api/sensors/"+this.sensorId+"/dots?start="+b+"&end="+a+"&dots_per_day=24"},temperatures:function(){var a=e.filter(this.models,function(a){return e.isNumber(a.temperature)});return e.map(a,function(a){return[new Date(a.datetime).getTime(),Math.round(a.temperature)]})},humidities:function(){var a=e.filter(this.models,function(a){return e.isNumber(a.sensor2)});return e.map(a,function(a){return[new Date(a.datetime).getTime(),a.sensor2]})}})},{"../core/session.js":83,"./dot.js":86,"ampersand-rest-collection":25,lodash:79}],88:[function(a,b){"use strict";var c=a("ampersand-model"),d=a("./dot_collection.js"),e=a("../core/colors.js");b.exports=c.extend({props:{id:"string",controller_id:"string",label:"string",last_tick:"string",calibration_constant:"number",current_temperature:"number"},collections:{dots:d},session:{active:{"default":!0,type:"boolean"}},derived:{name:{deps:["label","id"],fn:function(){return this.label?this.label:this.id.slice(-4)}},color:{deps:["id"],fn:function(){return e.get()}}},url:function(){return"/api/sensors/"+this.id}})},{"../core/colors.js":80,"./dot_collection.js":87,"ampersand-model":9}],89:[function(a,b){"use strict";var c=a("ampersand-rest-collection"),d=a("./sensor.js"),e=a("../core/session.js"),f=a("lodash");b.exports=c.extend({model:d,url:function(){return"/api/coordinators/"+e.coordinatorId+"/sensors"},active:function(){return f.filter(this.models,function(a){return a.active})}})},{"../core/session.js":83,"./sensor.js":88,"ampersand-rest-collection":25,lodash:79}],90:[function(a,b){"use strict";var c=a("ampersand-router"),d=a("../core/session.js"),e=a("../models/sensor_collection.js"),f=a("../core/hub.js"),g=a("../views/base_view.js"),h=a("../models/dot_collection.js"),i=a("../models/coordinator.js");b.exports=c.extend({routes:{"":"home",":coordinatorId/:token":"start"},home:function(){alert("404, mate")},start:function(a,b){d.coordinatorId=a,d.token=b,f.trigger("load:sensors",{collection:new e,success:function(a){d.sensors=a}}),f.trigger("load:coordinator",{model:new i,success:function(a){d.coordinator=a}});var c=new g;document.body.innerHTML="",document.body.appendChild(c.render().el),f.once("load:sensors:success",function(a){a.forEach(function(a){var b=new h([],{sensorId:a.id});b.fetch({success:function(){a.dots=b,f.trigger("load:dots:success",a.id)}})})})}})},{"../core/hub.js":81,"../core/session.js":83,"../models/coordinator.js":85,"../models/dot_collection.js":87,"../models/sensor_collection.js":89,"../views/base_view.js":91,"ampersand-router":45}],91:[function(a,b){"use strict";var c=a("ampersand-view"),d=a("../core/session.js"),e=a("../core/hub.js"),f=a("./sensors_view.js"),g=a("./chart_view.js"),h=a("./header_view.js");b.exports=c.extend({template:a("./templates/base.dot"),initialize:function(){},render:function(){var a=this;return this.renderWithTemplate(),this.renderSubview(new h),d.sensors?(this.renderSubview(new f),this.renderSubview(new g)):this.listenToOnce(e,"load:sensors:success",function(){a.renderSubview(new f),a.renderSubview(new g)}),this}})},{"../core/hub.js":81,"../core/session.js":83,"./chart_view.js":92,"./header_view.js":93,"./sensors_view.js":95,"./templates/base.dot":96,"ampersand-view":61}],92:[function(a,b){"use strict";var c=a("ampersand-view"),d=a("../core/session.js"),e=a("../core/hub.js"),f=(a("./sensors_view.js"),a("lodash"));b.exports=c.extend({template:'<div class="chart-holder"></div>',initialize:function(){var a=f.after(d.sensors.length,this.start.bind(this));this.listenTo(e,"load:dots:success",a)},start:function(){for(var a,b=d.sensors.models[Symbol.iterator]();!(a=b.next()).done;){var c=a.value;this.listenTo(c,"change",this.build)}this.build()},render:function(){return this.renderWithTemplate(),this},build:function(){new Highcharts.StockChart({chart:{renderTo:this.el,height:"600"},rangeSelector:{enabled:!1},exporting:{enabled:!1},yAxis:[{title:{text:"Temperature"},height:"47%"},{title:{text:"Humidity"},top:"53%",height:"47%"}],series:this.temperatureSeries().concat(this.humiditySeries())})},temperatureSeries:function(){return f.map(d.sensors.active(),function(a){return{name:a.name+" (temperature)",data:a.dots.temperatures(),color:a.color,yAxis:0}})},humiditySeries:function(){return f.map(d.sensors.active(),function(a){return{name:a.name+" (humidity)",data:a.dots.humidities(),color:a.color,yAxis:1}})}})},{"../core/hub.js":81,"../core/session.js":83,"./sensors_view.js":95,"ampersand-view":61,lodash:79}],93:[function(a,b){"use strict";var c=a("ampersand-view"),d=a("../core/session.js"),e=a("../core/hub.js");b.exports=c.extend({template:a("./templates/header.dot"),events:{"focusout input":"save"},initialize:function(){this.listenToOnce(e,"load:coordinator:success",this.render),this.listenTo(e,"update:coordinator:success",this.render)},render:function(){return this.renderWithTemplate(d.coordinator),this},save:function(){e.trigger("update:coordinator",{attributes:{label:this.query("input").value},model:d.coordinator})}})},{"../core/hub.js":81,"../core/session.js":83,"./templates/header.dot":97,"ampersand-view":61}],94:[function(a,b){"use strict";var c=a("ampersand-view"),d=(a("../core/session.js"),a("../core/hub.js")),e=a("lodash");b.exports=c.extend({template:a("./templates/sensor_edit.dot"),events:{"click button.close":"remove","click button.save":"save"},render:function(){return this.renderWithTemplate(),this},save:function(){var a={},b=this.query("#label").value,c=parseInt(this.query("#temperature").value);b&&(a.label=b),0/0!==a&&e.isNumber(c)&&(a.current_temperature=c),e.isEmpty(a)||d.trigger("update:sensor",{attributes:a,model:this.model}),this.remove()}})},{"../core/hub.js":81,"../core/session.js":83,"./templates/sensor_edit.dot":99,"ampersand-view":61,lodash:79}],95:[function(a,b){"use strict";var c=a("ampersand-view"),d=a("../core/session.js"),e=(a("../core/hub.js"),a("./sensor_edit_view.js")),f=c.extend({template:a("./templates/sensor.dot"),events:{"click .icon-eye":"toggleActive","click .icon-edit":"edit"},initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){return this.renderWithTemplate(this.model),this},toggleActive:function(){if(this.model.active&&d.sensors.length!==d.sensors.active().length)for(var a,b=d.sensors.models[Symbol.iterator]();!(a=b.next()).done;){var c=a.value;c.active=!0}else{for(var e,f=d.sensors.models[Symbol.iterator]();!(e=f.next()).done;){var c=e.value;c!==this.model&&(c.active=!1)}this.model.active=!0}},edit:function(){document.body.appendChild(new e({model:this.model}).render().el)}});b.exports=c.extend({template:a("./templates/sensors.dot"),render:function(){return this.renderWithTemplate(),this.renderCollection(d.sensors,f),this}})},{"../core/hub.js":81,"../core/session.js":83,"./sensor_edit_view.js":94,"./templates/sensor.dot":98,"./templates/sensors.dot":100,"ampersand-view":61}],96:[function(a,b){b.exports=function(){var a='<div class="base"> </div>';return a}},{}],97:[function(a,b){b.exports=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=a?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c='<div class="header"> <div class="icon-svg icon-logo"></div> ';return a.label&&(c+=' <input class="header__input" type="text" value="'+b(a.label)+'" placeholder="Name your coordinator.."/> '),c+=' <a href="'+b(a.log_url)+'" target="_blank" class="hover"> <div class="icon-svg icon-log-light"></div> </a></div>'}},{}],98:[function(a,b){b.exports=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=a?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c='<div class="sensor';return a.active||(c+=" sensor--inactive"),c+='"> <span class="sensor__color" style="background: '+b(a.color)+'"></span> '+b(a.name)+' <span class="icon-svg icon-eye hover"></span> <span class="icon-svg icon-edit hover"></span></div>'}},{}],99:[function(a,b){b.exports=function(a){var b="undefined"!=typeof _encodeHTML?_encodeHTML:function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=a?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}}(),c='<div class="popup"> <div class="popup__container"> <div class="popup__content"> <h1>'+b(a.model.name)+'</h1> <fieldset> <div class="form-group"> <label for="id">Sensor ID</label> <span>'+b(a.model.id)+'</span> </div> <div class="form-group"> <label for="label">Label</label> <input id="label" type="text" placeholder="Name this sensor.." value="'+b(a.model.label)+'"> </div> <div class="form-group"> <label for="temperature">Temperature</label> <input id="temperature" type="number" step="1" placeholder="Current temperature.." value="'+b(a.model.current_temperature)+'"> </div> </fieldset> <button class="save button--success">Save</button> <button class="close">Close</button> </div> </div></div>';return c}},{}],100:[function(a,b){b.exports=function(){var a='<div class="sensors"></div>';return a}},{}]},{},[84]);